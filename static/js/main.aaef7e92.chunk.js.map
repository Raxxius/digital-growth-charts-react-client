{"version":3,"sources":["components/subcomponents/GestationSelect.js","components/subcomponents/MeasurementMethodSelect.js","components/subcomponents/ReferenceSelect.js","components/subcomponents/SexChoice.js","selectData/measurementOptions.js","selectData/sexOptions.js","selectData/referenceOptions.js","components/subcomponents/ErrorText.js","components/subcomponents/BoneAge.js","functions/dateHelpers.js","components/subcomponents/UtilitiesForm.js","components/MeasurementForm.js","components/chartThemes/themes.js","components/chartThemes/rcpchTheme1.js","components/chartThemes/rcpchTheme2.js","components/chartThemes/rcpchTheme3.js","components/chartThemes/rcpchThemeMonochrome.js","components/chartThemes/RCPCHThemeTraditionalBoy.js","components/chartThemes/RCPCHThemeTraditionalGirl.js","api/Chart.js","functions/canvasFromSVG.js","functions/addToClipboard.js","functions/deepCopy.js","functions/units.js","components/subcomponents/TableBody.js","components/subcomponents/ResultsSegment.js","components/subcomponents/ErrorModal.js","components/subcomponents/IntervalSelect.js","components/subcomponents/Slider.js","selectData/intervalOptions.js","components/FictionalChildForm.js","hooks/useRcpchApi.js","hooks/useGlobalState.js","components/MeasurementSegment.js","pages/Home.js","App.js","serviceWorker.js","index.js"],"names":["GestationSelect","props","gestationWeeksOptions","gestWeeks","push","key","toString","value","text","Select","compact","name","weeks","options","onChange","e","val","handleGestationChange","days","MeasurementMethodSelect","placeholder","measurementMethod","handleChangeMeasurementMethod","measurementOptions","ReferenceSelect","reference","handleChangeReference","referenceOptions","SexSelect","sex","handleSexChange","sexOptions","disabled","ErrorText","errorText","showError","makeErrorVisible","Message","color","boneAgeOptions","BoneAgeTypeSelect","Form","Group","Field","style","textAlign","width","Input","type","labelPosition","label","content","basic","boneAge","handleBoneAgeChange","boneAgeSDS","handleBoneAgeSDSChange","boneAgeCentile","handleBoneAgeCentileChange","boneAgeText","handleBoneAgeTextChange","boneAgeType","handleChangeBoneAgeType","formatDate","inputDate","date","month","day","year","getTime","Date","getMonth","getDate","getFullYear","length","join","error","Error","parseDate","workingArray","split","map","element","index","madeNumber","Number","isNaN","parsedArray","jsYear","jsMonth","jsDay","validMaxDaysInMonth","undefined","isDaysInMonthValid","UtilitiesForm","Container","Header","as","paddingTop","onSubmit","utilitiesFormDataSubmit","required","changeMaternalHeight","maternalHeight","changePaternalHeight","paternalHeight","Button","fluid","midParentalHeightDataPresent","onClick","removeMidParentalHeight","MeasurementForm","useState","birth_date","setBirth_date","observation_date","setObservation_date","observation_value","measurement","setMeasurement","gestation_weeks","setGestation_weeks","gestation_days","setGestation_days","birth_date_error","setBirth_date_error","observation_date_error","setObservation_date_error","observation_value_error","setObservation_value_error","form_valid","setForm_valid","setBoneAge","setBoneAgeType","setBoneAgeSDS","setBoneAgeCentile","setBoneAgeText","events","setEvents","showBoneAge","setShowBoneAge","showEvents","setShowEvents","handleChangeDate","event","target","newDate","observation_date_object","birth_date_object","timeInterval","validateObservationValue","measurement_method","useEffect","formIsValid","globalState","clearMeasurement","newMeasurement","updateGlobalState","makeDynamic","option","newDisabled","dynamicMeasurementOptions","dynamicSexOptions","boneageData","eventText","events_text","parseFloat","bone_age","bone_age_type","bone_age_centile","bone_age_sds","bone_age_text","measurementFormData","formData","Object","assign","handleMeasurementResult","marginRight","data","newMeasurementMethod","units","observation","icon","preventDefault","Icon","Segment","BoneAge","anEvent","thisEvent","circular","theEvents","newEvents","splice","isDataPresent","height_maternal","height_paternal","handleUtilitiesFormDataSubmit","heights","parentalHeights","mid_parental_height","ChartTheme","chart","gridlines","axes","centiles","sds","measurements","this","_chart","_gridlines","_axes","_centiles","_sds","_measurements","ChartObject","backgroundColour","height","padding","titleStyle","subTitleStyle","tooltipBackgroundColour","tooltipStroke","tooltipTextStyle","termFill","termStroke","infoBoxFill","infoBoxStroke","infoBoxTextStyle","toggleButtonInactiveColour","toggleButtonActiveColour","toggleButtonTextColour","_backgroundColour","_width","_height","_padding","_titleStyle","_subTitleStyle","_tooltipBackgroundColour","_tooltipStroke","_tooltipTextStyle","_termFill","_termStroke","_infoBoxFill","_infoBoxStroke","_infoBoxTextStyle","_toggleButtonActiveColour","_toggleButtonInactiveColour","_toggleButtonTextColour","PaddingObject","left","right","top","bottom","_left","_right","_top","_bottom","TextStyleObject","colour","size","weight","_name","_colour","_size","_style","_weight","GridlineObject","stroke","strokeWidth","dashed","_stroke","_strokeWidth","_dashed","AxesObject","axisStroke","axisLabelTextStyle","tickLabelStyle","tickLabelTextStyle","_axisStroke","_axisLabelTextStyle","_tickLabelTexSize","CentilesObject","centileStroke","centileStrokeWidth","delayedPubertyAreaFill","midParentalCentileStroke","midParentalCentileStrokeWidth","midParentalAreaFill","_centileStroke","_centileStrokeWidth","_delayedPubertyAreaFill","_midParentalAreaFill","_midParentalStroke","_midParentalStrokeWidth","_midParentalCentileStrokeWidth","SDSObject","lineStrokeWidth","heightStroke","weightStroke","ofcStroke","bmiStroke","_lineStrokeWidth","_heightStroke","_weightStroke","_ofcStroke","_bmiStroke","MeasurementsObject","measurementFill","highlightedMeasurementFill","_measurementFill","_hightlightedMeasurementFill","tooltipBackGroundColour","RCPCHChart","RCPCHGridlines","RCPCHCentiles","RCPCHSDS","RCPCHTheme1","RCPCHTheme2","axisLabelColour","RCPCHTheme3","RCPCHThemeMonochrome","RCPCHThemeTraditionalBoy","RCPCHThemeTraditionalGirl","exportChartCallback","svg","Promise","resolve","reject","outerHTMLSVG","outerHTML","match","replace","blob","Blob","domURL","window","URL","webkitURL","blobURL","createObjectURL","parseInt","canvas","document","createElement","ctx","getContext","image","Image","onload","console","log","drawImage","revokeObjectURL","src","canvasFromSVG","then","result","toBlob","item","ClipboardItem","navigator","clipboard","write","ChartData","isLoading","titles","title","sexText","measurementText","subtitle","setTitle","Dimmer","active","Loader","measurementsArray","midParentalHeightData","chartStyle","measurementStyle","centileStyle","sdsStyle","gridlineStyle","axisStyle","enableZoom","chartType","enableExport","deepCopyArray","oldArray","copyArray","forEach","Array","isArray","deepCopyObject","oldObject","tempObject","deepCopy","input","TableBody","Fragment","Table","Row","Cell","measurement_dates","chronological_calendar_age","corrected_calendar_age","plottable_data","centile_data","corrected_decimal_age_data","corrected_gestational_age","child_observation_value","Math","round","measurement_calculated_values","corrected_sds","chronological_sds","corrected_centile","chronological_centile","ResultsSegment","apiResult","celled","collapsing","HeaderCell","Body","bmi","ofc","ErrorModal","body","handleClose","visible","handleCancel","showCancel","Modal","open","closeOnEscape","Content","Actions","negative","IntervalTypeSelect","intervalType","handleChangeIntervalType","intervalTypeOptions","Slider","min","max","step","className","display","isPercentage","FictionalChildForm","setWeeks","setDays","startingAge","setStartingAge","endingAge","setEndingAge","setIntervalType","interval","setInterval","driftFlag","setDriftFlag","drift","setDrift","noiseFlag","setNoiseFlag","noise","setNoise","startSDS","setStartSDS","errorMessage","setErrorMessage","handleBigButtonPress","values","start_chronological_age","end_age","measurement_interval_type","measurement_interval_number","start_sds","drift_range","noise_range","fictionalFormDataSubmit","handleObservationChange","intervalOptions","Checkbox","toggle","checked","fetchFromApi","inputParameters","mode","a","url","process","headers","axios","method","response","makeInitialState","turner","midParentalHeights","mid_parental_height_sds","mid_parental_height_centile","mid_parental_height_centile_data","mid_parental_height_lower_centile_data","mid_parental_height_upper_centile_data","mid_parental_height_lower_value","mid_parental_height_upper_value","calculation","output","errors","message","isMidparentalCalculation","useRcpchApi","apiState","setApiState","fetchResult","useCallback","newInput","old","mutable","removeLastFromArrays","oldState","both","pop","newOutput","removeLastActiveItem","clearBothActiveArrays","clearApiErrors","relevantArray","latestInput","ignore","measurementError","resultAsArray","concat","singleResult","corrected_measurement_error","chronological_measurement_error","catch","errorForUser","results","apiErrors","makeGlobalState","modeActiveIndex","measurementMethodActiveIndex","male","female","resetCurrent","undoLast","measurementMethodActiveIndexLookup","useGlobalState","setGlobalState","makeGlobalStateUpdater","newValue","birth_data","i","tempMeasurementMethod","existingResults","oldResult","defaultTheme","panesBlueprint","menuItem","measurementName","themeOptions","MeasurementSegment","setChartSyle","setAxisStyle","setCentileStyle","setSDSStyle","centile","setCentile","setMeasurementStyle","theme","setTheme","flip","setFlip","errorModal","setErrorModal","useMemo","selectedTheme","handleTabChange","activeIndex","handleChangeTheme","handleResults","latestResult","errorString","newGestation","newErrors","JSON","stringify","oldGestation","panes","details","render","Tab","Pane","attached","Chart","TabPanes","menu","secondary","pointing","onTabChange","FormPanes","themeColour","ThemeSelection","Dropdown","floating","inline","Grid","padded","Column","verticalAlign","columns","Home","App","Boolean","location","hostname","ReactDOM","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.aaef7e92.chunk.js","sourcesContent":["import React from 'react';\n\n// Semantic UI React\nimport { Select } from 'semantic-ui-react';\n\nfunction GestationSelect(props) {\n    let gestationWeeksOptions = [];\n    let gestWeeks = 23;\n    while (gestWeeks <= 42) {\n        gestationWeeksOptions.push({\n            key: gestWeeks.toString(10),\n            value: gestWeeks,\n            text: gestWeeks.toString(10),\n        });\n        gestWeeks++;\n    }\n\n    const gestationDaysOptions = [\n        { key: '0', value: 0, text: '0' },\n        { key: '1', value: 1, text: '1' },\n        { key: '2', value: 2, text: '2' },\n        { key: '3', value: 3, text: '3' },\n        { key: '4', value: 4, text: '4' },\n        { key: '5', value: 5, text: '5' },\n        { key: '6', value: 6, text: '6' },\n    ];\n\n    return (\n        <span>\n            <Select\n                compact\n                name=\"gestation_weeks\"\n                value={props.weeks}\n                options={gestationWeeksOptions}\n                onChange={(e, val) => props.handleGestationChange(val)}\n            />\n            &nbsp;+\n            <Select\n                compact\n                name=\"gestation_days\"\n                value={props.days}\n                options={gestationDaysOptions}\n                onChange={(e, val) => props.handleGestationChange(val)}\n            />\n            &nbsp; weeks\n        </span>\n    );\n}\n\nexport default GestationSelect;\n","import React from 'react';\nimport { Select } from 'semantic-ui-react';\n\nfunction MeasurementMethodSelect(props) {\n    return (\n        <Select\n            name=\"measurement_method\"\n            placeholder=\"Measurement\"\n            value={props.measurementMethod}\n            onChange={(e, val) =>\n                props.handleChangeMeasurementMethod(val.value)\n            }\n            options={props.measurementOptions}\n        />\n    );\n}\n\nexport default MeasurementMethodSelect;\n","import React from 'react';\nimport { Select } from 'semantic-ui-react';\n\nfunction ReferenceSelect(props) {\n    return (\n        <Select\n            name=\"reference\"\n            placeholder=\"UK-WHO\"\n            value={props.reference}\n            onChange={(e, val) => props.handleChangeReference(val)}\n            options={props.referenceOptions}\n        />\n    );\n}\n\nexport default ReferenceSelect;\n","import React from 'react';\nimport { Select } from 'semantic-ui-react';\n\nfunction SexSelect(props) {\n    return (\n        <Select\n            name=\"sex\"\n            placeholder=\"Sex\"\n            value={props.sex}\n            onChange={(e, val) => props.handleSexChange(val)}\n            options={props.sexOptions}\n        />\n    );\n}\n\nexport default SexSelect;\n","const measurementOptions = [\n    { key: 'height', value: 'height', text: 'Height (cm)', disabled: false },\n    { key: 'weight', value: 'weight', text: 'Weight (kg)', disabled: false },\n    { key: 'bmi', value: 'bmi', text: 'BMI (kg/m²)', disabled: false },\n    {\n        key: 'ofc',\n        value: 'ofc',\n        text: 'Head Circumference (cm)',\n        disabled: false,\n    },\n];\n\nexport default measurementOptions;\n","const sexOptions = [\n    { key: 'male', value: 'male', text: 'Boy', disabled: false },\n    { key: 'female', value: 'female', text: 'Girl', disabled: false },\n];\n\nexport default sexOptions;\n","const referenceOptions = [\n    { key: 'uk-who', value: 'uk-who', text: 'UK-WHO' },\n    { key: 'trisomy-21', value: 'trisomy-21', text: \"Down's Syndrome\" },\n    { key: 'turner', value: 'turner', text: \"Turner's syndrome\" },\n];\n\nexport default referenceOptions;\n","import React from 'react';\nimport { Message } from 'semantic-ui-react';\n\nexport default function ErrorText({ errorText, showError }) {\n    if (!errorText) {\n        return null;\n    }\n    let makeErrorVisible = errorText ? true : false;\n    if (showError === false) {\n        makeErrorVisible = false;\n    }\n    return (\n        <>{makeErrorVisible && <Message color=\"red\">{errorText}</Message>}</>\n    );\n}\n","import React from 'react';\nimport { Form, Select, Input } from 'semantic-ui-react';\n\nconst boneAgeOptions = [\n    { key: 'gp', value: 'greulich-pyle', text: 'Greulich & Pyle' },\n    {\n        key: 'twii',\n        value: 'tanner-whitehouse-ii',\n        text: 'Tanner Whitehouse II',\n    },\n    {\n        key: 'twiii',\n        value: 'tanner-whitehouse-iii',\n        text: 'Tanner Whitehouse III',\n    },\n    { key: 'fels', value: 'fels', text: 'Fels' },\n    { key: 'bxpt', value: 'bonexpert', text: 'BoneXpert' },\n];\n\nfunction BoneAgeTypeSelect(props) {\n    return (\n        <>\n            <Form.Group>\n                <Form.Field style={{ textAlign: 'left' }} width=\"16\">\n                    <Input\n                        type=\"decimal\"\n                        name=\"boneAge\"\n                        placeholder=\"e.g. 3.5\"\n                        labelPosition=\"right\"\n                        label={{\n                            content: 'years',\n                            basic: true,\n                            color: 'black',\n                        }}\n                        value={props.boneAge}\n                        onChange={props.handleBoneAgeChange}\n                    />\n                </Form.Field>\n            </Form.Group>\n            <Form.Group>\n                <Form.Field style={{ textAlign: 'left' }} width=\"8\">\n                    <Input\n                        type=\"decimal\"\n                        name=\"boneAgeSDS\"\n                        placeholder=\"e.g. -3.5\"\n                        labelPosition=\"right\"\n                        label={{\n                            content: 'SDS',\n                            basic: true,\n                            color: 'black',\n                        }}\n                        value={props.boneAgeSDS}\n                        onChange={props.handleBoneAgeSDSChange}\n                    />\n                </Form.Field>\n                <Form.Field style={{ textAlign: 'left' }} width=\"8\">\n                    <Input\n                        type=\"decimal\"\n                        name=\"boneAgeCentile\"\n                        placeholder=\"e.g. 50\"\n                        labelPosition=\"right\"\n                        label={{\n                            content: 'centile',\n                            basic: true,\n                            color: 'black',\n                        }}\n                        value={props.boneAgeCentile}\n                        onChange={props.handleBoneAgeCentileChange}\n                    />\n                </Form.Field>\n            </Form.Group>\n            <Form.Group>\n                <Form.Field style={{ textAlign: 'left' }} width=\"16\">\n                    <label>Comment</label>\n                    <Input\n                        type=\"text\"\n                        name=\"boneAgeText\"\n                        placeholder=\"e.g. This bone age is advanced\"\n                        value={props.boneAgeText}\n                        onChange={props.handleBoneAgeTextChange}\n                    />\n                </Form.Field>\n            </Form.Group>\n            <Form.Group>\n                <Form.Field style={{ textAlign: 'left' }} width=\"16\">\n                    <label>Bone Age Reference</label>\n                    <Select\n                        name=\"boneagetype\"\n                        placeholder=\"e.g. G&P\"\n                        value={props.boneAgeType}\n                        onChange={(e, val) =>\n                            props.handleChangeBoneAgeType(val)\n                        }\n                        options={boneAgeOptions}\n                    />\n                </Form.Field>\n            </Form.Group>\n        </>\n    );\n}\n\nexport default BoneAgeTypeSelect;\n","export const formatDate = (inputDate) => {\n    let date;\n    let month;\n    let day;\n    let year;\n    try {\n        inputDate.getTime();\n        date = new Date(inputDate);\n        month = '' + (date.getMonth() + 1);\n        day = '' + date.getDate();\n        year = date.getFullYear();\n        if (month.length < 2) {\n            month = '0' + month;\n        }\n        if (day.length < 2) {\n            day = '0' + day;\n        }\n\n        return [year, month, day].join('-');\n    } catch (error) {\n        throw new Error('Input date for formatDate not recognised');\n    }\n};\n\nexport const parseDate = (inputDate) => {\n    const isDaysInMonthValid = (parsedArray) => {\n        const [jsYear, jsMonth, jsDay] = parsedArray;\n        if (jsMonth === 1 && jsDay === 29) {\n            if (jsYear % 4 === 0) {\n                return true;\n            } else {\n                return false;\n            }\n        } else {\n            const daysInMonthLookup = [\n                31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31,\n            ];\n            const validMaxDaysInMonth = daysInMonthLookup[jsMonth];\n            if (\n                validMaxDaysInMonth !== undefined &&\n                jsDay <= validMaxDaysInMonth\n            ) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    };\n    try {\n        const dateArray = inputDate.split('-');\n        const workingArray = dateArray.map((element, index) => {\n            if (element !== '') {\n                const madeNumber = Number(element);\n                if (Number.isNaN(madeNumber)) {\n                    throw new Error();\n                } else {\n                    return index === 1 ? madeNumber - 1 : madeNumber;\n                }\n            } else {\n                throw new Error();\n            }\n        });\n        if (\n            workingArray.length !== 3 ||\n            workingArray[1] < 0 ||\n            workingArray[1] > 11 ||\n            workingArray[2] < 1 ||\n            workingArray[2] > 31\n        ) {\n            throw new Error();\n        }\n        if (isDaysInMonthValid(workingArray)) {\n            return new Date(...workingArray);\n        } else {\n            throw new Error();\n        }\n    } catch (error) {\n        return null;\n    }\n};\n","import React from 'react';\n\nimport { Form, Input, Header, Button, Container } from 'semantic-ui-react';\n\nconst UtilitiesForm = (props) => {\n    return (\n        <Container>\n            <Header\n                as=\"h5\"\n                textAlign=\"left\"\n                style={{\n                    paddingTop: 20,\n                }}\n            >\n                Midparental Height\n            </Header>\n            <Form onSubmit={props.utilitiesFormDataSubmit}>\n                <Form.Group>\n                    <Form.Field width={8} required>\n                        <label style={{ textAlign: 'left' }}>\n                            Maternal height\n                        </label>\n                        <Input\n                            name=\"height_maternal\"\n                            onChange={props.changeMaternalHeight}\n                            placeholder=\"e.g. 167\"\n                            value={\n                                props.maternalHeight ? props.maternalHeight : ''\n                            }\n                            label={{\n                                content: 'cm',\n                                basic: true,\n                                color: 'black',\n                            }}\n                            labelPosition=\"right\"\n                        />\n                    </Form.Field>\n                    <Form.Field width={8} required>\n                        <label style={{ textAlign: 'left' }}>\n                            Paternal height\n                        </label>\n                        <Input\n                            name=\"height_maternal\"\n                            placeholder=\"e.g. 179\"\n                            onChange={props.changePaternalHeight}\n                            value={\n                                props.paternalHeight ? props.paternalHeight : ''\n                            }\n                            label={{\n                                content: 'cm',\n                                basic: true,\n                                color: 'black',\n                            }}\n                            labelPosition=\"right\"\n                        />\n                    </Form.Field>\n                </Form.Group>\n                <Form.Field>\n                    <Button\n                        disabled={\n                            props.maternalHeight && props.paternalHeight\n                                ? false\n                                : true\n                        }\n                        color=\"black\"\n                        fluid={true}\n                        type={'submit'}\n                    >\n                        Calculate Mid-parental Height\n                    </Button>\n                </Form.Field>\n                {props.midParentalHeightDataPresent && (\n                    <Form.Field>\n                        <Button\n                            type=\"submit\"\n                            onClick={props.removeMidParentalHeight}\n                        >\n                            Remove Mid-parental Height\n                        </Button>\n                    </Form.Field>\n                )}\n            </Form>\n        </Container>\n    );\n};\n\nexport default UtilitiesForm;\n","import React, { useEffect, useState } from \"react\";\n\nimport {\n  Container,\n  Segment,\n  Form,\n  Input,\n  Button,\n  Header,\n  Icon,\n} from \"semantic-ui-react\";\nimport GestationSelect from \"./subcomponents/GestationSelect\";\nimport MeasurementMethodSelect from \"./subcomponents/MeasurementMethodSelect\";\nimport ReferenceSelect from \"./subcomponents/ReferenceSelect\";\nimport SexSelect from \"./subcomponents/SexChoice\";\nimport measurementOptions from \"../selectData/measurementOptions\";\nimport sexOptions from \"../selectData/sexOptions\";\nimport referenceOptions from \"../selectData/referenceOptions\";\nimport ErrorText from \"./subcomponents/ErrorText\";\nimport BoneAgeTypeSelect from \"./subcomponents/BoneAge\";\nimport { formatDate, parseDate } from \"../functions/dateHelpers\";\nimport UtilitiesForm from \"./subcomponents/UtilitiesForm\";\n\nconst ROBERT_WADLOW = 272; // interesting fact - Robert Wadlow (22/2/1918 – 15/7/1940) was the world's tallest man\nconst JON_BROWER_MINNOCH = 635; // interesting fact -  Jon Brower Minnoch (Born USA) was the world's heaviest man\nconst KHALID_BIN_MOHSEN_SHAARI = 204; // Khalid bin Mohsen Shaari (2/8/1991) from Saudi Arabia had the highest recorded BMI\n\nconst MeasurementForm = (props) => {\n  const [birth_date, setBirth_date] = useState(formatDate(new Date()));\n  const [observation_date, setObservation_date] = useState(\n    formatDate(new Date())\n  );\n  const [measurement, setMeasurement] = useState({\n    observation_value: \"\",\n  });\n  const [gestation_weeks, setGestation_weeks] = useState(40);\n  const [gestation_days, setGestation_days] = useState(0);\n  const [birth_date_error, setBirth_date_error] = useState(\"\");\n  const [observation_date_error, setObservation_date_error] = useState(\"\");\n  const [observation_value_error, setObservation_value_error] =\n    useState(\"empty\");\n  const [form_valid, setForm_valid] = useState(false);\n  const [boneAge, setBoneAge] = useState(\"\");\n  const [boneAgeType, setBoneAgeType] = useState(\"greulich-pyle\");\n  const [boneAgeSDS, setBoneAgeSDS] = useState(\"\");\n  const [boneAgeCentile, setBoneAgeCentile] = useState(\"\");\n  const [boneAgeText, setBoneAgeText] = useState(\"\");\n  const [events, setEvents] = useState([\"\"]);\n  const [showBoneAge, setShowBoneAge] = useState(false);\n  const [showEvents, setShowEvents] = useState(false);\n\n  const handleChangeReference = ({ value }) => {\n    if (value !== \"uk-who\") {\n      props.updateGlobalState(\"mid-parental-height\", \"reset\"); //midparental height on present on UK-WHO reference\n    }\n    props.updateGlobalState(\"reference\", value);\n  };\n\n  const handleBoneAgeTypeChange = ({ value }) => {\n    setBoneAgeType(value);\n  };\n\n  const handleBoneAgeChange = (event, data) => {\n    const boneAge = data.value;\n    setBoneAge(boneAge);\n  };\n\n  const handleBoneAgeSDSChange = (event, data) => {\n    const boneAgeSDS = data.value;\n    setBoneAgeSDS(boneAgeSDS);\n  };\n\n  const handleBoneAgeCentileChange = (event, data) => {\n    const boneAgeCentile = data.value;\n    setBoneAgeCentile(boneAgeCentile);\n  };\n\n  const handleBoneAgeTextChange = (event, data) => {\n    const boneAgeText = data.value;\n    setBoneAgeText(boneAgeText);\n  };\n\n  const handleChangeDate = (event) => {\n    event.target.name === \"birth_date\"\n      ? setBirth_date(event.target.value)\n      : setObservation_date(event.target.value);\n    const newDate = parseDate(event.target.value);\n    if (newDate) {\n      const observation_date_object =\n        event.target.name === \"birth_date\"\n          ? parseDate(observation_date)\n          : newDate;\n      const birth_date_object =\n        event.target.name === \"birth_date\" ? newDate : parseDate(birth_date);\n      const timeInterval =\n        observation_date_object.getTime() - birth_date_object.getTime();\n      if (timeInterval < 0) {\n        if (event.target.name === \"birth_date\") {\n          setBirth_date_error(\n            \"Date of birth cannot come after the date of measurement\"\n          );\n        } else if (event.target.name === \"observation_date\") {\n          setObservation_date_error(\n            \"Date of measurement cannot come before the date of birth.\"\n          );\n        }\n      } else if (timeInterval > 631139040000) {\n        if (event.target.name === \"birth_date\") {\n          setBirth_date_error(\"No centile data exists over 20 years of age.\");\n        } else {\n          setObservation_date_error(\n            \"No centile data exists over 20 years of age.\"\n          );\n        }\n      } else {\n        setBirth_date_error(\"\");\n        setObservation_date_error(\"\");\n      }\n    } else {\n      if (event.target.name === \"birth_date\") {\n        setBirth_date_error(\"Please enter a valid date.\");\n      } else {\n        setObservation_date_error(\"Please enter a valid date.\");\n      }\n    }\n  };\n\n  const handleObservationChange = (observation, data) => {\n    // this is updating an observation value\n    const observation_value = data.value;\n    setMeasurement({ observation_value: observation_value });\n    setObservation_value_error(\n      validateObservationValue(\n        props.globalState.measurementMethod,\n        observation_value\n      )\n    );\n  };\n\n  const validateObservationValue = (measurement_method, observation_value) => {\n    if (observation_value === \"\") {\n      return \"empty\";\n    }\n    if (Number.isNaN(Number(observation_value))) {\n      return \"Please enter a valid number.\";\n    }\n    if (measurement_method === \"height\") {\n      if (observation_value < 20) {\n        return \"The \" + measurement_method + \" you entered is too low.\";\n      } else if (observation_value > ROBERT_WADLOW) {\n        return \"The \" + measurement_method + \" you entered is too tall.\";\n      } else {\n        return \"\";\n      }\n    }\n    if (measurement_method === \"weight\") {\n      if (observation_value < 0.01) {\n        return \"The \" + measurement_method + \" you entered is too low.\";\n      } else if (observation_value > JON_BROWER_MINNOCH) {\n        return \"The \" + measurement_method + \" you entered is too heavy.\";\n      } else {\n        return \"\";\n      }\n    }\n    if (measurement_method === \"bmi\") {\n      if (observation_value < 5) {\n        return \"The \" + measurement_method + \" you entered is too low.\";\n      } else if (observation_value > KHALID_BIN_MOHSEN_SHAARI) {\n        return \"The \" + measurement_method + \" you entered is too high.\";\n      } else {\n        return \"\";\n      }\n    }\n    if (measurement_method === \"ofc\") {\n      if (observation_value < 25) {\n        return \"The \" + measurement_method + \" you entered is too low.\";\n      } else if (observation_value > 70) {\n        return \"The \" + measurement_method + \" you entered is too high.\";\n      } else {\n        return \"\";\n      }\n    }\n  };\n\n  const handleSubmit = () => {\n    // passes the form data back to the parent (measurement segment)\n    let boneageData = {};\n    let eventText = {\n      events: [],\n    };\n    if (events.length > 0 && events[0].length > 0) {\n      eventText = {\n        events_text: events,\n      };\n    }\n    if (showBoneAge) {\n      if (!isNaN(parseFloat(boneAge))) {\n        boneageData = {\n          bone_age: parseFloat(boneAge),\n          bone_age_type: boneAgeType,\n          bone_age_centile: isNaN(parseFloat(boneAgeCentile))\n            ? null\n            : parseFloat(boneAgeCentile),\n          bone_age_sds: isNaN(parseFloat(boneAgeSDS))\n            ? null\n            : parseFloat(boneAgeSDS),\n          bone_age_text: boneAgeText,\n        };\n      }\n    }\n    const measurementFormData = {\n      birth_date: birth_date,\n      observation_date: observation_date,\n      measurement_method: props.globalState.measurementMethod,\n      observation_value: measurement.observation_value,\n      gestation_weeks: gestation_weeks,\n      gestation_days: gestation_days,\n      sex: props.globalState.sex,\n    };\n\n    const formData = Object.assign(measurementFormData, boneageData, eventText);\n    props.handleMeasurementResult(formData);\n  };\n\n  const handleChangeMeasurementMethod = (newMeasurementMethod) => {\n    props.updateGlobalState(\"measurementMethod\", newMeasurementMethod);\n  };\n\n  const handleChangeGestation = (data) => {\n    const { name, value } = data;\n    if (name === \"gestation_weeks\") {\n      setGestation_weeks(value);\n      if (value === 42) {\n        setGestation_days(0);\n      }\n    } else if (name === \"gestation_days\") {\n      if (gestation_weeks === 42) {\n        setGestation_days(0);\n      } else {\n        setGestation_days(value);\n      }\n    }\n  };\n\n  const handleChangeSex = (val) => {\n    props.updateGlobalState(\"sex\", val.value);\n  };\n\n  const handleResetCurrentGraph = () => {\n    props.updateGlobalState(\"resetCurrent\", true);\n  };\n\n  const handleUndoLast = () => {\n    props.updateGlobalState(\"undoLast\", true);\n  };\n\n  const handleShowEvents = (e) => {\n    e.preventDefault();\n    const isPressed = showEvents;\n    setShowEvents(!isPressed);\n    setEvents([\"\"]);\n  };\n\n  const handleShowBoneAge = (e) => {\n    e.preventDefault();\n    const isPressed = showBoneAge;\n    setShowBoneAge(!isPressed);\n    setBoneAge(\"\");\n    setBoneAgeCentile(\"\");\n    setBoneAgeSDS(\"\");\n    setBoneAgeType(\"greulich-pyle\");\n    setBoneAgeText(\"\");\n  };\n\n  const handleMaternalHeight = (event, data) => {\n    const paternalHeight =\n      props.globalState[\"parentalHeights\"][\"height_paternal\"];\n    const heights = {\n      height_maternal: data.value,\n      height_paternal: paternalHeight,\n    };\n    props.updateGlobalState(\"parentalHeights\", heights);\n  };\n\n  const handlePaternalHeight = (event, data) => {\n    const maternalHeight =\n      props.globalState[\"parentalHeights\"][\"height_maternal\"];\n    const heights = {\n      height_maternal: maternalHeight,\n      height_paternal: data.value,\n    };\n    props.updateGlobalState(\"parentalHeights\", heights);\n  };\n\n  const removeMidParentalHeight = () => {\n    props.updateGlobalState(\"mid-parental-height\", \"reset\");\n  };\n\n  const midParentalHeightDataPresent = () => {\n    if (props.globalState[\"mid-parental-height\"].mid_parental_height) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const handleUtilitiesDataSubmit = (event) => {\n    if (event.target[0].value < 100 && event.target[1].value < 100) {\n      return;\n    }\n    const formData = {\n      height_maternal: event.target[0].value,\n      height_paternal: event.target[1].value,\n      sex: props.globalState[\"sex\"],\n    };\n    props.updateGlobalState(\"isMidParentalHeightRequest\", true);\n    props.updateGlobalState(\"parentalHeights\", {\n      maternalHeight: event.target[0].value,\n      paternalHeight: event.target[1].value,\n    });\n    props.handleUtilitiesFormDataSubmit(formData);\n  };\n\n  useEffect(() => {\n    const formIsValid = () => {\n      if (\n        birth_date_error === \"\" &&\n        observation_date_error === \"\" &&\n        observation_value_error === \"\"\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    if (formIsValid()) {\n      setForm_valid(formIsValid());\n    }\n    if (props.globalState.clearMeasurement) {\n      const newMeasurement = { ...measurement };\n      newMeasurement.observation_value = \"\";\n      setMeasurement(newMeasurement);\n      setObservation_value_error(\"empty\");\n      setForm_valid(false);\n      setShowBoneAge(false);\n      setShowEvents(false);\n      setEvents([\"\"]);\n      setBoneAgeCentile(\"\");\n      setBoneAgeSDS(\"\");\n      setBoneAgeType(\"greulich-pyle\");\n      setBoneAgeText(\"\");\n      props.updateGlobalState(\"clearMeasurement\", false);\n    }\n  }, [\n    form_valid,\n    showBoneAge,\n    showEvents,\n    events,\n    boneAgeCentile,\n    boneAgeSDS,\n    boneAgeType,\n    boneAgeText,\n    props,\n    measurement,\n    birth_date_error,\n    observation_date_error,\n    observation_value_error,\n  ]);\n\n  const makeDynamic = (option) => {\n    const newDisabled = props.globalState.disabled[option.key];\n    return { ...option, disabled: newDisabled };\n  };\n  const dynamicMeasurementOptions = measurementOptions.map(makeDynamic);\n\n  const dynamicSexOptions = sexOptions.map(makeDynamic);\n\n  return (\n    <Container>\n      <Form onSubmit={handleSubmit}>\n        <Form.Field required>\n          <Header as=\"h5\" textAlign=\"left\">\n            Reference\n          </Header>\n          <ReferenceSelect\n            reference={props.globalState.reference}\n            handleChangeReference={handleChangeReference}\n            referenceOptions={referenceOptions}\n          />\n        </Form.Field>\n        <Form.Field required>\n          <Header as=\"h5\" textAlign=\"left\">\n            Dates\n          </Header>\n          <Input\n            label=\"Birth Date\"\n            type=\"date\"\n            name=\"birth_date\"\n            value={birth_date}\n            placeholder=\"Date of Birth\"\n            onChange={handleChangeDate}\n          />\n        </Form.Field>\n        <Form.Field required>\n          <Input\n            label=\"Measurement Date\"\n            type=\"date\"\n            name=\"observation_date\"\n            value={observation_date}\n            placeholder=\"Date of Measurement\"\n            onChange={handleChangeDate}\n          />\n        </Form.Field>\n        <ErrorText errorText={observation_date_error} />\n        <ErrorText errorText={birth_date_error} />\n\n        <Form.Group style={{ textAlign: \"left\" }}>\n          <Form.Field style={{ marginRight: 20 }} required>\n            <label>Sex</label>\n            <SexSelect\n              sex={props.globalState.sex}\n              handleSexChange={handleChangeSex}\n              sexOptions={dynamicSexOptions}\n            />\n          </Form.Field>\n          <Form.Field>\n            <label>Gestation</label>\n            <GestationSelect\n              name=\"gestation_select\"\n              weeks={gestation_weeks}\n              days={gestation_days}\n              handleGestationChange={handleChangeGestation}\n            />\n          </Form.Field>\n        </Form.Group>\n\n        <Form.Group>\n          <Form.Field required>\n            <label style={{ textAlign: \"left\" }}>Measurements</label>\n            <MeasurementMethodSelect\n              measurementMethod={props.globalState.measurementMethod}\n              handleChangeMeasurementMethod={handleChangeMeasurementMethod}\n              measurementOptions={dynamicMeasurementOptions}\n            />\n          </Form.Field>\n          <Form.Field width={8} required>\n            <label style={{ textAlign: \"left\" }}>Value</label>\n            <Input\n              type=\"decimal\"\n              name=\"observation_value\"\n              placeholder=\"Measurement\"\n              value={measurement.observation_value}\n              label={{\n                content: props.globalState.units.toString(),\n                basic: true,\n                color: \"black\",\n              }}\n              labelPosition=\"right\"\n              onChange={handleObservationChange}\n            />\n          </Form.Field>\n        </Form.Group>\n        <ErrorText\n          showError={observation_value_error !== \"empty\"}\n          errorText={observation_value_error}\n        />\n        <Form.Group>\n          {props.globalState.measurementMethod === \"height\" && (\n            <Form.Field width={10}>\n              <Button\n                icon\n                fluid\n                labelPosition=\"left\"\n                onClick={handleShowBoneAge}\n                color=\"black\"\n              >\n                <Icon name=\"hand paper outline\" />\n                Add Bone Age\n              </Button>\n            </Form.Field>\n          )}\n          <Form.Field width={10}>\n            <Button\n              icon\n              labelPosition=\"left\"\n              onClick={handleShowEvents}\n              fluid\n              color=\"black\"\n            >\n              <Icon name=\"bookmark outline\" />\n              Add Event\n            </Button>\n          </Form.Field>\n        </Form.Group>\n\n        {showBoneAge && (\n          <Segment>\n            <BoneAgeTypeSelect\n              boneAge={boneAge}\n              handleBoneAgeChange={handleBoneAgeChange}\n              boneAgeType={boneAgeType}\n              handleChangeBoneAgeType={handleBoneAgeTypeChange}\n              boneAgeCentile={boneAgeCentile}\n              handleBoneAgeCentileChange={handleBoneAgeCentileChange}\n              boneAgeSDS={boneAgeSDS}\n              handleBoneAgeSDSChange={handleBoneAgeSDSChange}\n              boneAgeText={boneAgeText}\n              handleBoneAgeTextChange={handleBoneAgeTextChange}\n            />\n          </Segment>\n        )}\n\n        {showEvents && (\n          <Segment>\n            {events.map((anEvent, index) => {\n              return (\n                <Form.Group key={index}>\n                  <Form.Field style={{ textAlign: \"left\" }} width=\"14\">\n                    <Input\n                      name=\"event\"\n                      placeholder=\"e.g. diagnosis\"\n                      // value={anEvent}\n                      onChange={(data) => {\n                        let thisEvent = events;\n                        thisEvent[index] = data.target.value;\n                        setEvents(thisEvent);\n                      }}\n                    />\n                  </Form.Field>\n                  <Button\n                    icon\n                    circular\n                    onClick={(e) => {\n                      e.preventDefault();\n                      if (events[index] === \"\") {\n                        return;\n                      }\n                      let theEvents = events;\n                      theEvents.push(\"\");\n                      setEvents(theEvents);\n                    }}\n                  >\n                    <Icon name=\"plus circle\" />\n                  </Button>\n                  {index === events.length - 1 && (\n                    <Button\n                      icon\n                      circular\n                      onClick={(e) => {\n                        e.preventDefault();\n                        if (index === 0) {\n                          setEvents([\"\"]);\n                          return;\n                        }\n                        let newEvents = events.splice(index, 1);\n                        setEvents(newEvents);\n                      }}\n                    >\n                      <Icon name=\"minus circle\" />\n                    </Button>\n                  )}\n                </Form.Group>\n              );\n            })}\n          </Segment>\n        )}\n\n        <Form.Field>\n          <Button\n            content=\"Calculate Centiles and Add To Chart\"\n            type=\"submit\"\n            fluid\n            disabled={!form_valid}\n            color=\"black\"\n            icon=\"line graph\"\n            labelPosition=\"right\"\n          />\n        </Form.Field>\n      </Form>\n      {props.globalState.isDataPresent && (\n        <Segment>\n          <Button\n            content=\"Reset Chart\"\n            icon=\"power off\"\n            onClick={handleResetCurrentGraph}\n          />\n          <Button content=\"Remove Last\" icon=\"undo\" onClick={handleUndoLast} />\n        </Segment>\n      )}\n\n      {props.globalState.reference === \"uk-who\" && (\n        <UtilitiesForm\n          utilitiesFormDataSubmit={handleUtilitiesDataSubmit}\n          changeMaternalHeight={handleMaternalHeight}\n          changePaternalHeight={handlePaternalHeight}\n          maternalHeight={props.globalState.parentalHeights.height_maternal}\n          paternalHeight={props.globalState.parentalHeights.height_paternal}\n          removeMidParentalHeight={removeMidParentalHeight}\n          midParentalHeightDataPresent={midParentalHeightDataPresent()}\n        />\n      )}\n    </Container>\n  );\n};\n\nexport default MeasurementForm;\n","export class ChartTheme {\n    constructor(chart, gridlines, axes, centiles, sds, measurements) {\n        this.chart = chart;\n        this.gridlines = gridlines;\n        this.axes = axes;\n        this.centiles = centiles;\n        this.sds = sds;\n        this.measurements = measurements;\n    }\n    get chart() {\n        return this._chart;\n    }\n    get gridlines() {\n        return this._gridlines;\n    }\n    get axes() {\n        return this._axes;\n    }\n    get centiles() {\n        return this._centiles;\n    }\n    get sds() {\n        return this._sds;\n    }\n    get measurements() {\n        return this._measurements;\n    }\n\n    set chart(val) {\n        this._chart = val;\n    }\n    set gridlines(val) {\n        this._gridlines = val;\n    }\n    set axes(val) {\n        this._axes = val;\n    }\n    set centiles(val) {\n        this._centiles = val;\n    }\n    set sds(val) {\n        this._sds = val;\n    }\n    set measurements(val) {\n        this._measurements = val;\n    }\n}\n\nexport class ChartObject {\n    constructor(\n        backgroundColour,\n        width,\n        height,\n        padding,\n        titleStyle,\n        subTitleStyle,\n        tooltipBackgroundColour,\n        tooltipStroke,\n        tooltipTextStyle,\n        termFill,\n        termStroke,\n        infoBoxFill,\n        infoBoxStroke,\n        infoBoxTextStyle,\n        toggleButtonInactiveColour,\n        toggleButtonActiveColour,\n        toggleButtonTextColour\n    ) {\n        this.backgroundColour = backgroundColour;\n        this.width = width;\n        this.height = height;\n        this.padding = padding;\n        this.titleStyle = titleStyle;\n        this.subTitleStyle = subTitleStyle;\n        this.tooltipBackgroundColour = tooltipBackgroundColour;\n        this.tooltipStroke = tooltipStroke;\n        this.tooltipTextStyle = tooltipTextStyle;\n        this.termFill = termFill;\n        this.termStroke = termStroke;\n        this.infoBoxFill = infoBoxFill;\n        this.infoBoxStroke = infoBoxStroke;\n        this.infoBoxTextStyle = infoBoxTextStyle;\n        this.toggleButtonInactiveColour = toggleButtonInactiveColour;\n        this.toggleButtonActiveColour = toggleButtonActiveColour;\n        this.toggleButtonTextColour = toggleButtonTextColour;\n    }\n    get backgroundColour() {\n        return this._backgroundColour;\n    }\n    get width() {\n        return this._width;\n    }\n    get height() {\n        return this._height;\n    }\n    get padding() {\n        return this._padding;\n    }\n    get titleStyle() {\n        return this._titleStyle;\n    }\n    get subTitleStyle() {\n        return this._subTitleStyle;\n    }\n    get tooltipBackgroundColour() {\n        return this._tooltipBackgroundColour;\n    }\n    get tooltipStroke() {\n        return this._tooltipStroke;\n    }\n    get tooltipTextStyle() {\n        return this._tooltipTextStyle;\n    }\n    get termFill() {\n        return this._termFill;\n    }\n    get termStroke() {\n        return this._termStroke;\n    }\n    get infoBoxFill() {\n        return this._infoBoxFill;\n    }\n    get infoBoxStroke() {\n        return this._infoBoxStroke;\n    }\n    get infoBoxTextStyle() {\n        return this._infoBoxTextStyle;\n    }\n    get toggleButtonActiveColour() {\n        return this._toggleButtonActiveColour;\n    }\n    get toggleButtonInactiveColour() {\n        return this._toggleButtonInactiveColour;\n    }\n    get toggleButtonTextColour() {\n        return this._toggleButtonTextColour;\n    }\n    set termFill(val) {\n        this._termFill = val;\n    }\n    set termStroke(val) {\n        this._termStroke = val;\n    }\n    set infoBoxFill(val) {\n        this._infoBoxFill = val;\n    }\n    set infoBoxStroke(val) {\n        this._infoBoxStroke = val;\n    }\n    set infoBoxTextStyle(val) {\n        this._infoBoxTextStyle = val;\n    }\n    set backgroundColour(val) {\n        this._backgroundColour = val;\n    }\n    set width(val) {\n        this._width = val;\n    }\n    set height(val) {\n        this._height = val;\n    }\n    set padding(val) {\n        this._padding = val;\n    }\n    set tooltipBackgroundColour(val) {\n        this._tooltipBackgroundColour = val;\n    }\n    set tooltipStroke(val) {\n        this._tooltipStroke = val;\n    }\n    set tooltipTextStyle(val) {\n        this._tooltipTextStyle = val;\n    }\n    set titleStyle(val) {\n        this._titleStyle = val;\n    }\n    set subTitleStyle(val) {\n        this._subTitleStyle = val;\n    }\n    set toggleButtonTextColour(val) {\n        this._toggleButtonTextColour = val;\n    }\n    set toggleButtonInactiveColour(val) {\n        this._toggleButtonInactiveColour = val;\n    }\n    set toggleButtonActiveColour(val) {\n        this._toggleButtonActiveColour = val;\n    }\n}\n\nexport class PaddingObject {\n    constructor(left, right, top, bottom) {\n        this.left = left;\n        this.right = right;\n        this.top = top;\n        this.bottom = bottom;\n    }\n    get left() {\n        return this._left;\n    }\n    get right() {\n        return this._right;\n    }\n    get top() {\n        return this._top;\n    }\n    get bottom() {\n        return this._bottom;\n    }\n\n    set left(val) {\n        this._left = val;\n    }\n    set right(val) {\n        this._right = val;\n    }\n    set top(val) {\n        this._top = val;\n    }\n    set bottom(val) {\n        this._bottom = val;\n    }\n}\n\nexport class TextStyleObject {\n    constructor(name, colour, size, weight) {\n        this.name = name;\n        this.colour = colour;\n        this.size = size;\n        this.weight = weight;\n    }\n    get name() {\n        return this._name;\n    }\n    get colour() {\n        return this._colour;\n    }\n    get size() {\n        return this._size;\n    }\n    get style() {\n        return this._style;\n    }\n    set name(val) {\n        this._name = val;\n    }\n    set colour(val) {\n        this._colour = val;\n    }\n    set size(val) {\n        this._size = val;\n    }\n    set weight(val) {\n        this._weight = val;\n    }\n}\n\nexport class GridlineObject {\n    constructor(gridlines, stroke, strokeWidth, dashed) {\n        this.gridlines = gridlines;\n        this.stroke = stroke;\n        this.strokeWidth = strokeWidth;\n        this.dashed = dashed;\n    }\n    get gridlines() {\n        return this._gridlines;\n    }\n    get stroke() {\n        return this._stroke;\n    }\n    get strokeWidth() {\n        return this._strokeWidth;\n    }\n    get dashed() {\n        return this._dashed;\n    }\n    set gridlines(val) {\n        this._gridlines = val;\n    }\n    set stroke(val) {\n        this._stroke = val;\n    }\n    set strokeWidth(val) {\n        this._strokeWidth = val;\n    }\n    set dashed(val) {\n        this._dashed = val;\n    }\n}\n\nexport class AxesObject {\n    constructor(axisStroke, axisLabelTextStyle, tickLabelStyle) {\n        this.axisStroke = axisStroke;\n        this.axisLabelTextStyle = axisLabelTextStyle;\n        this.tickLabelTextStyle = tickLabelStyle;\n    }\n    get axisStroke() {\n        return this._axisStroke;\n    }\n    get axisLabelTextStyle() {\n        return this._axisLabelTextStyle;\n    }\n    get tickLabelTextStyle() {\n        return this._tickLabelTexSize;\n    }\n    set axisStroke(val) {\n        this._axisStroke = val;\n    }\n    set axisLabelTextStyle(val) {\n        this._axisLabelTextStyle = val;\n    }\n    set tickLabelTextStyle(val) {\n        this._tickLabelTexSize = val;\n    }\n}\nexport class CentilesObject {\n    constructor(\n        centileStroke,\n        centileStrokeWidth,\n        delayedPubertyAreaFill,\n        midParentalCentileStroke,\n        midParentalCentileStrokeWidth,\n        midParentalAreaFill\n    ) {\n        this.centileStroke = centileStroke;\n        this.centileStrokeWidth = centileStrokeWidth;\n        this.delayedPubertyAreaFill = delayedPubertyAreaFill;\n        this.midParentalCentileStroke = midParentalCentileStroke;\n        this.midParentalCentileStrokeWidth = midParentalCentileStrokeWidth;\n        this.midParentalAreaFill = midParentalAreaFill;\n    }\n    get centileStroke() {\n        return this._centileStroke;\n    }\n    get centileStrokeWidth() {\n        return this._centileStrokeWidth;\n    }\n    get delayedPubertyAreaFill() {\n        return this._delayedPubertyAreaFill;\n    }\n    get midParentalAreaFill() {\n        return this._midParentalAreaFill;\n    }\n    get midParentalCentileStroke() {\n        return this._midParentalStroke;\n    }\n    get midParentalCentileStrokeWidth() {\n        return this._midParentalStrokeWidth;\n    }\n    set centileStroke(val) {\n        this._centileStroke = val;\n    }\n    set centileStrokeWidth(val) {\n        this._centileStrokeWidth = val;\n    }\n    set delayedPubertyAreaFill(val) {\n        this._delayedPubertyAreaFill = val;\n    }\n    set midParentalCentileStroke(val) {\n        this._midParentalStroke = val;\n    }\n    set midParentalCentileStrokeWidth(val) {\n        this._midParentalCentileStrokeWidth = val;\n    }\n    set midParentalAreaFill(val) {\n        this._midParentalAreaFill = val;\n    }\n}\n\nexport class SDSObject {\n    constructor(\n        lineStrokeWidth,\n        heightStroke,\n        weightStroke,\n        ofcStroke,\n        bmiStroke\n    ) {\n        this.lineStrokeWidth = lineStrokeWidth;\n        this.heightStroke = heightStroke;\n        this.weightStroke = weightStroke;\n        this.ofcStroke = ofcStroke;\n        this.bmiStroke = bmiStroke;\n    }\n    get lineStrokeWidth() {\n        return this._lineStrokeWidth;\n    }\n    get heightStroke() {\n        return this._heightStroke;\n    }\n    get weightStroke() {\n        return this._weightStroke;\n    }\n    get ofcStroke() {\n        return this._ofcStroke;\n    }\n    get bmiStroke() {\n        return this._bmiStroke;\n    }\n\n    set lineStrokeWidth(val) {\n        this._lineStrokeWidth = val;\n    }\n    set heightStroke(val) {\n        this._heightStroke = val;\n    }\n    set weightStroke(val) {\n        this._weightStroke = val;\n    }\n    set bmiStroke(val) {\n        this._bmiStroke = val;\n    }\n    set ofcStroke(val) {\n        this._ofcStroke = val;\n    }\n}\n\nexport class MeasurementsObject {\n    constructor(measurementFill, highlightedMeasurementFill) {\n        this.measurementFill = measurementFill;\n        this.highlightedMeasurementFill = highlightedMeasurementFill;\n    }\n    get measurementFill() {\n        return this._measurementFill;\n    }\n    get highlightedMeasurementFill() {\n        return this._hightlightedMeasurementFill;\n    }\n    set measurementFill(val) {\n        this._measurementFill = val;\n    }\n    set highlightedMeasurementFill(val) {\n        this._hightlightedMeasurementFill = val;\n    }\n}\n","import {\n    ChartTheme,\n    ChartObject,\n    GridlineObject,\n    CentilesObject,\n    MeasurementsObject,\n    AxesObject,\n    TextStyleObject,\n    PaddingObject,\n    SDSObject,\n} from './themes';\n\n/* \nTheme 1\n\nData:  #7159aa - purple\nArea:  #c6bddd - purple (tint 40%)\ntooltip: #fdc300 - yellow\n\ngridlines: #d9d9d9 - light grey\ntext: #000000 - black\nbackground colour: #FFFFFF - white\ncentile width: 1.5 px\n\nfont: Montserrat normal\n\n*/\n\nconst centileColour = '#7159aa';\nconst pubertyFill = '#c6bddd';\nconst tooltipBackGroundColour = '#fdc300';\nconst gridlineColour = '#d9d9d9';\nconst gridlineWidth = 0.25;\nconst backgroundColour = '#FFFFFF';\nconst centileWidth = 1.5;\nconst axisstroke = '#000000';\nconst measurementsFill = '#000000';\nconst highlightedMeasurementFill = '#7159aa';\n\nconst midparentalHeightStroke = '#7159aa';\nconst midparentalHeightStrokeWidth = 3.0;\nconst midparentalHeightFill = '#c6bddd';\n\nconst titleStyle = new TextStyleObject('Arial', '#000000', 14, 'bold');\nconst subTitleStyle = new TextStyleObject('Arial', '#000000', 14, 'normal');\n\nconst tooltipTextStyle = new TextStyleObject(\n    'Montserrat',\n    '#000000',\n    0.25,\n    'normal'\n);\nconst infoBoxTextStyle = new TextStyleObject(\n    'Montserrat',\n    '#000000',\n    6,\n    'normal'\n);\n\nconst axisLabelTextStyle = new TextStyleObject('Arial', '000000', 10, 'normal');\nconst tickLabelTextStyle = new TextStyleObject('Arial', '000000', 8, 'normal');\n\nconst chartPadding = new PaddingObject(50, 50, 25, 40);\n\nconst lineStrokeWidth = 1.5;\nconst heightSDSStroke = '#7159aa';\nconst weightSDSStroke = '#ff8000';\nconst ofcSDSStroke = '#e60700';\nconst bmiSDSStroke = '#c2a712';\n\nconst RCPCHChart = new ChartObject(\n    backgroundColour,\n    700,\n    475,\n    chartPadding,\n    titleStyle,\n    subTitleStyle,\n    tooltipBackGroundColour,\n    tooltipBackGroundColour,\n    tooltipTextStyle,\n    '#CDCDCD',\n    '#CDCDCD',\n    '#CDCDCD',\n    '#CDCDCD',\n    infoBoxTextStyle,\n    '#c6bddd',\n    '#7159aa',\n    '#FFFFFF'\n);\n\nconst RCPCHGridlines = new GridlineObject(\n    true,\n    gridlineColour,\n    gridlineWidth,\n    false\n);\n\nconst RCPCHCentiles = new CentilesObject(\n    centileColour,\n    centileWidth,\n    pubertyFill,\n    midparentalHeightStroke,\n    midparentalHeightStrokeWidth,\n    midparentalHeightFill\n);\n\nconst RCPCHSDS = new SDSObject(\n    lineStrokeWidth,\n    heightSDSStroke,\n    weightSDSStroke,\n    ofcSDSStroke,\n    bmiSDSStroke\n);\n\nconst RCPCHAxes = new AxesObject(\n    axisstroke,\n    axisLabelTextStyle,\n    tickLabelTextStyle\n);\n\nconst RCPCHMeasurements = new MeasurementsObject(\n    measurementsFill,\n    highlightedMeasurementFill\n);\n\nconst RCPCHTheme1 = new ChartTheme(\n    RCPCHChart,\n    RCPCHGridlines,\n    RCPCHAxes,\n    RCPCHCentiles,\n    RCPCHSDS,\n    RCPCHMeasurements\n);\n\nexport default RCPCHTheme1;\n","import {\n    ChartTheme,\n    ChartObject,\n    GridlineObject,\n    CentilesObject,\n    SDSObject,\n    MeasurementsObject,\n    AxesObject,\n    TextStyleObject,\n    PaddingObject,\n} from './themes';\n\n/* \nTheme 2\n\nData:  #ff8000 - orange\nArea:  #ffc080 - orange (tint 40%)\ntooltip: #3366cc - strong blue\n\ngridlines: #d9d9d9 - light grey\ntext: #000000 - black\nbackground colour: #FFFFFF - white\ncentile width: 1.5 px\n\nfont: Montserrat normal\n\n*/\n\nconst centileColour = '#ff8000';\nconst pubertyFill = '#ffc080';\nconst tooltipBackGroundColour = '#3366cc';\n// const tooltipTextColour = \"#FFFFFF\"\nconst gridlineColour = '#d9d9d9';\nconst gridlineWidth = 0.25;\nconst backgroundColour = '#FFFFFF';\nconst centileWidth = 1.5;\n// const axisLabelColour = \"#000000\"\nconst axisstroke = '#000000';\nconst measurementsFill = '#000000';\nconst highlightedMeasurementFill = '#ff8000'; // centile colour\nconst midparentalHeightStroke = '#ff8000';\nconst midparentalHeightStrokeWidth = 0.25;\nconst midparentalHeightFill = '#ffc080';\n\nconst titleStyle = new TextStyleObject('Arial', '#000000', 14, 'bold');\nconst subTitleStyle = new TextStyleObject('Arial', '#000000', 14, 'normal');\n\nconst tooltipTextStyle = new TextStyleObject(\n    'Montserrat',\n    '#FFFFFF',\n    0.25,\n    'normal'\n);\nconst infoBoxTextStyle = new TextStyleObject(\n    'Montserrat',\n    '#000000',\n    6,\n    'normal'\n);\n\nconst axisLabelTextStyle = new TextStyleObject('Arial', '000000', 10, 'normal');\nconst tickLabelTextStyle = new TextStyleObject('Arial', '000000', 8, 'normal');\nconst chartPadding = new PaddingObject(50, 50, 25, 40);\n\nconst lineStrokeWidth = 1.5;\nconst heightSDSStroke = '#7159aa';\nconst weightSDSStroke = '#ff8000';\nconst ofcSDSStroke = '#e60700';\nconst bmiSDSStroke = '#c2a712';\n\nconst RCPCHChart = new ChartObject(\n    backgroundColour,\n    700,\n    475,\n    chartPadding,\n    titleStyle,\n    subTitleStyle,\n    tooltipBackGroundColour,\n    tooltipBackGroundColour,\n    tooltipTextStyle,\n    '#CDCDCD',\n    '#CDCDCD',\n    tooltipBackGroundColour,\n    tooltipBackGroundColour,\n    infoBoxTextStyle,\n    '#ffc080',\n    '#ff8000',\n    '#FFFFFF'\n);\n\nconst RCPCHGridlines = new GridlineObject(\n    true,\n    gridlineColour,\n    gridlineWidth,\n    false\n);\n\nconst RCPCHCentiles = new CentilesObject(\n    centileColour,\n    centileWidth,\n    pubertyFill,\n    midparentalHeightStroke,\n    midparentalHeightStrokeWidth,\n    midparentalHeightFill\n);\n\nconst RCPCHSDS = new SDSObject(\n    lineStrokeWidth,\n    heightSDSStroke,\n    weightSDSStroke,\n    ofcSDSStroke,\n    bmiSDSStroke\n);\n\nconst RCPCHAxes = new AxesObject(\n    axisstroke,\n    axisLabelTextStyle,\n    tickLabelTextStyle\n);\n\nconst RCPCHMeasurements = new MeasurementsObject(\n    measurementsFill,\n    highlightedMeasurementFill\n);\n\nconst RCPCHTheme2 = new ChartTheme(\n    RCPCHChart,\n    RCPCHGridlines,\n    RCPCHAxes,\n    RCPCHCentiles,\n    RCPCHSDS,\n    RCPCHMeasurements\n);\n\nexport default RCPCHTheme2;\n","import {\n    ChartTheme,\n    ChartObject,\n    GridlineObject,\n    CentilesObject,\n    SDSObject,\n    MeasurementsObject,\n    AxesObject,\n    TextStyleObject,\n    PaddingObject,\n} from './themes';\n\n/* \nTheme 3\n\nData:   #e60700 - red\nArea:   #f59c99 - red (tint 40%)\ntooltip: #fdc300 - yellow\n\ngridlines: #d9d9d9 - light grey\ntext: #000000 - black\nbackground colour: #FFFFFF - white\ncentile width: 1.5 px\n\nfont: Montserrat normal\n\n*/\n\nconst centileColour = '#e60700';\nconst pubertyFill = '#f59c99';\nconst tooltipBackGroundColour = '#fdc300';\nconst tooltipTextColour = '#000000';\nconst gridlineColour = '#d9d9d9';\nconst gridlineWidth = 0.25;\nconst backgroundColour = '#FFFFFF';\nconst centileWidth = 1.5;\nconst axisLabelColour = '#000000';\nconst axisstroke = '#000000';\nconst measurementsFill = '#000000';\nconst highlightedMeasurementFill = '#e60700'; // centile colour\nconst axisLabelSize = 10;\nconst tickLabelSize = 8;\n// const axisLabelFont = \"Montserrat\"\nconst midparentalHeightStroke = '#e60700';\nconst midparentalHeightStrokeWidth = 0.25;\nconst midparentalHeightFill = '#f59c99';\n\nconst titleStyle = new TextStyleObject('Arial', '#000000', 14, 'bold');\nconst subTitleStyle = new TextStyleObject('Arial', '#000000', 14, 'normal');\n\nconst tooltipTextStyle = new TextStyleObject(\n    'Montserrat',\n    tooltipTextColour,\n    0.25,\n    'normal'\n);\nconst infoBoxTextStyle = new TextStyleObject(\n    'Montserrat',\n    '#000000',\n    6,\n    'normal'\n);\n\nconst axisLabelTextStyle = new TextStyleObject(\n    'Arial',\n    axisLabelColour,\n    axisLabelSize,\n    'normal'\n);\nconst tickLabelTextStyle = new TextStyleObject(\n    'Arial',\n    axisLabelColour,\n    tickLabelSize,\n    'normal'\n);\n\nconst chartPadding = new PaddingObject(50, 50, 25, 40);\n\nconst lineStrokeWidth = 1.5;\nconst heightSDSStroke = '#7159aa';\nconst weightSDSStroke = '#ff8000';\nconst ofcSDSStroke = '#e60700';\nconst bmiSDSStroke = '#c2a712';\n\nconst RCPCHChart = new ChartObject(\n    backgroundColour,\n    700,\n    475,\n    chartPadding,\n    titleStyle,\n    subTitleStyle,\n    tooltipBackGroundColour,\n    tooltipBackGroundColour,\n    tooltipTextStyle,\n    '#CDCDCD',\n    '#CDCDCD',\n    tooltipBackGroundColour,\n    tooltipBackGroundColour,\n    infoBoxTextStyle,\n    '#f59c99',\n    '#e60700',\n    '#FFFFFF'\n);\n\nconst RCPCHGridlines = new GridlineObject(\n    true,\n    gridlineColour,\n    gridlineWidth,\n    false\n);\n\nconst RCPCHCentiles = new CentilesObject(\n    centileColour,\n    centileWidth,\n    pubertyFill,\n    midparentalHeightStroke,\n    midparentalHeightStrokeWidth,\n    midparentalHeightFill\n);\n\nconst RCPCHSDS = new SDSObject(\n    lineStrokeWidth,\n    heightSDSStroke,\n    weightSDSStroke,\n    ofcSDSStroke,\n    bmiSDSStroke\n);\n\nconst RCPCHAxes = new AxesObject(\n    axisstroke,\n    axisLabelTextStyle,\n    tickLabelTextStyle\n);\n\nconst RCPCHMeasurements = new MeasurementsObject(\n    measurementsFill,\n    highlightedMeasurementFill\n);\n\nconst RCPCHTheme3 = new ChartTheme(\n    RCPCHChart,\n    RCPCHGridlines,\n    RCPCHAxes,\n    RCPCHCentiles,\n    RCPCHSDS,\n    RCPCHMeasurements\n);\n\nexport default RCPCHTheme3;\n","import {\n    ChartTheme,\n    ChartObject,\n    GridlineObject,\n    CentilesObject,\n    MeasurementsObject,\n    AxesObject,\n    TextStyleObject,\n    PaddingObject,\n} from './themes';\n\n/* \nTheme 4 - monochrome\n\nData:   #000000 - black\nArea:   #b3b3b3 - midgrey\ntooltip: #FFFFF - white\n\ngridlines: #d9d9d9 - light grey\ntext: #000000 - black\nbackground colour: #FFFFFF - white\ncentile width: 1.5 px\n\nfont: Montserrat normal\n \n*/\n\nconst centileColour = '#000000';\nconst pubertyFill = '#b3b3b3';\nconst tooltipBackgroundColour = '#b3b3b3';\nconst tooltipTextColour = '#000000';\nconst gridlineColour = '#d9d9d9';\nconst gridlineWidth = 0.25;\nconst backgroundColour = '#FFFFFF';\nconst centileWidth = 1.5;\n\nconst axisstroke = '#000000';\nconst measurementsFill = '#000000';\nconst highlightedMeasurementFill = '#000000'; // black\nconst titleStyle = new TextStyleObject('Arial', '#000000', 14, 'bold');\nconst subTitleStyle = new TextStyleObject('Arial', '#000000', 14, 'normal');\nconst midparentalHeightStroke = '#000000';\nconst midparentalHeightStrokeWidth = 1.5;\nconst midparentalHeightFill = '#b3b3b3';\n\nconst tooltipTextStyle = new TextStyleObject(\n    'Montserrat',\n    tooltipTextColour,\n    0.25,\n    'normal'\n);\nconst infoBoxTextStyle = new TextStyleObject(\n    'Montserrat',\n    '#000000',\n    6,\n    'normal'\n);\n\nconst axisLabelTextStyle = new TextStyleObject('Arial', '000000', 10, 'normal');\nconst tickLabelTextStyle = new TextStyleObject('Arial', '000000', 8, 'normal');\n\nconst chartPadding = new PaddingObject(50, 50, 25, 40);\n\n// const lineStrokeWidth=1.5;\n// const heightSDSStroke = \"#000000\";\n// const weightSDSStroke = \"#000000\";\n// const ofcSDSStroke = \"#000000\";\n// const bmiSDSStroke = \"#000000\";\n\nconst RCPCHChart = new ChartObject(\n    backgroundColour,\n    700,\n    475,\n    chartPadding,\n    titleStyle,\n    subTitleStyle,\n    tooltipBackgroundColour,\n    tooltipBackgroundColour,\n    tooltipTextStyle,\n    '#CDCDCD',\n    '#CDCDCD',\n    '#CDCDCD',\n    '#CDCDCD',\n    infoBoxTextStyle,\n    '#b3b3b3',\n    '#000000',\n    '#FFFFFF'\n);\n\nconst RCPCHGridlines = new GridlineObject(\n    true,\n    gridlineColour,\n    gridlineWidth,\n    false\n);\n\nconst RCPCHCentiles = new CentilesObject(\n    centileColour,\n    centileWidth,\n    pubertyFill,\n    midparentalHeightStroke,\n    midparentalHeightStrokeWidth,\n    midparentalHeightFill\n);\n\n// const RCPCHSDS = new SDSObject(\n//   lineStrokeWidth,\n//   heightSDSStroke,\n//   weightSDSStroke,\n//   ofcSDSStroke,\n//   bmiSDSStroke\n// )\n\nconst RCPCHAxes = new AxesObject(\n    axisstroke,\n    axisLabelTextStyle,\n    tickLabelTextStyle\n);\n\nconst RCPCHMeasurements = new MeasurementsObject(\n    measurementsFill,\n    highlightedMeasurementFill\n);\n\nconst RCPCHThemeMonochrome = new ChartTheme(\n    RCPCHChart,\n    RCPCHGridlines,\n    RCPCHAxes,\n    RCPCHCentiles,\n    RCPCHMeasurements\n);\nexport default RCPCHThemeMonochrome;\n","import {\n    ChartTheme,\n    ChartObject,\n    GridlineObject,\n    CentilesObject,\n    MeasurementsObject,\n    AxesObject,\n    TextStyleObject,\n    PaddingObject,\n} from './themes';\n\n/* \nRCPCH traditional: boy\n\n// boy 0 163 222 - #00a3de\n\nData:   #00a3de - blue\nArea:   #66c8eb - blue tint 49%\ntooltip: #b3b3b3 - midgrey\n\ngridlines: #d9d9d9 - light grey\ntext: #000000 - black\nbackground colour: #FFFFFF - white\ncentile width: 1.5 px\n\nfont: Montserrat normal\n\n*/\n\nconst centileColour = '#00a3de';\nconst pubertyFill = '#66c8eb';\nconst tooltipBackgroundColour = '#66c8eb';\nconst tooltipTextColour = '#000000';\nconst gridlineColour = '#d9d9d9';\nconst gridlineWidth = 0.25;\nconst backgroundColour = '#FFFFFF';\nconst centileWidth = 1.5;\n// const axisLabelColour = \"#000000\"\nconst axisstroke = '#000000';\nconst measurementsFill = '#000000';\nconst highlightedMeasurementFill = '#00a3de'; // centile colour\n// const axisLabelSize = 10\n// const tickLabelSize = 8\n// const axisLabelFont = \"Montserrat\"\nconst midparentalHeightStroke = '#00a3de';\nconst midparentalHeightStrokeWidth = 0.25;\nconst midparentalHeightFill = '#66c8eb';\n\nconst titleStyle = new TextStyleObject('Arial', '#000000', 14, 'bold');\nconst subTitleStyle = new TextStyleObject('Arial', '#000000', 14, 'normal');\n\nconst tooltipTextStyle = new TextStyleObject(\n    'Montserrat',\n    tooltipTextColour,\n    0.25,\n    'normal'\n);\nconst infoBoxTextStyle = new TextStyleObject(\n    'Montserrat',\n    '#000000',\n    6,\n    'normal'\n);\n\nconst axisLabelTextStyle = new TextStyleObject('Arial', '000000', 10, 'normal');\nconst tickLabelTextStyle = new TextStyleObject('Arial', '000000', 8, 'normal');\n\nconst chartPadding = new PaddingObject(50, 50, 25, 40);\n\nconst RCPCHChart = new ChartObject(\n    backgroundColour,\n    700,\n    475,\n    chartPadding,\n    titleStyle,\n    subTitleStyle,\n    tooltipBackgroundColour,\n    tooltipBackgroundColour,\n    tooltipTextStyle,\n    '#CDCDCD',\n    '#CDCDCD',\n    tooltipBackgroundColour,\n    tooltipBackgroundColour,\n    infoBoxTextStyle,\n    '#66c8eb',\n    '#00a3de',\n    '#FFFFFF'\n);\n\nconst RCPCHGridlines = new GridlineObject(\n    true,\n    gridlineColour,\n    gridlineWidth,\n    false\n);\n\nconst RCPCHCentiles = new CentilesObject(\n    centileColour,\n    centileWidth,\n    pubertyFill,\n    midparentalHeightStroke,\n    midparentalHeightStrokeWidth,\n    midparentalHeightFill\n);\n\nconst RCPCHAxes = new AxesObject(\n    axisstroke,\n    axisLabelTextStyle,\n    tickLabelTextStyle\n);\n\nconst RCPCHMeasurements = new MeasurementsObject(\n    measurementsFill,\n    highlightedMeasurementFill\n);\n\nconst RCPCHThemeTraditionalBoy = new ChartTheme(\n    RCPCHChart,\n    RCPCHGridlines,\n    RCPCHAxes,\n    RCPCHCentiles,\n    RCPCHMeasurements\n);\n\nexport default RCPCHThemeTraditionalBoy;\n","import {\n    ChartTheme,\n    ChartObject,\n    GridlineObject,\n    CentilesObject,\n    MeasurementsObject,\n    AxesObject,\n    TextStyleObject,\n    PaddingObject,\n} from './themes';\n\n/* \nTraditional: girl\n\n// girl 201 85 157 - #c9559d\n\nData:   #c9559d - pink\nArea:   df99c4 - pink tint 40%\ntooltip: #b3b3b3 - midgrey\n\ngridlines: #d9d9d9 - light grey\ntext: #000000 - black\nbackground colour: #FFFFFF - white\ncentile width: 1.5 px\n\nfont: Montserrat normal\n\n*/\n\nconst centileColour = '#c9559d';\nconst pubertyFill = '#df99c4';\nconst tooltipBackgroundColour = '#df99c4';\nconst tooltipTextColour = '#000000';\nconst gridlineColour = '#d9d9d9';\nconst gridlineWidth = 0.25;\nconst backgroundColour = '#FFFFFF';\nconst centileWidth = 1.5;\nconst axisstroke = '#000000';\nconst measurementsFill = '#000000';\nconst highlightedMeasurementFill = '#c9559d'; // centile colour\nconst midparentalHeightStroke = '#c9559d';\nconst midparentalHeightStrokeWidth = 0.25;\nconst midparentalHeightFill = '#df99c4';\n\nconst titleStyle = new TextStyleObject('Arial', '#000000', 14, 'bold');\nconst subTitleStyle = new TextStyleObject('Arial', '#000000', 14, 'normal');\n\nconst tooltipTextStyle = new TextStyleObject(\n    'Montserrat',\n    tooltipTextColour,\n    0.25,\n    'normal'\n);\nconst infoBoxTextStyle = new TextStyleObject(\n    'Montserrat',\n    '#000000',\n    6,\n    'normal'\n);\n\nconst axisLabelTextStyle = new TextStyleObject('Arial', '000000', 10, 'normal');\nconst tickLabelTextStyle = new TextStyleObject('Arial', '000000', 8, 'normal');\n\nconst chartPadding = new PaddingObject(50, 50, 25, 40);\n\nconst RCPCHChart = new ChartObject(\n    backgroundColour,\n    700,\n    475,\n    chartPadding,\n    titleStyle,\n    subTitleStyle,\n    tooltipBackgroundColour,\n    tooltipBackgroundColour,\n    tooltipTextStyle,\n    '#CDCDCD',\n    '#CDCDCD',\n    tooltipBackgroundColour,\n    tooltipBackgroundColour,\n    infoBoxTextStyle,\n    '#df99c4',\n    '#c9559d',\n    '#FFFFFF'\n);\n\nconst RCPCHGridlines = new GridlineObject(\n    true,\n    gridlineColour,\n    gridlineWidth,\n    false\n);\n\nconst RCPCHCentiles = new CentilesObject(\n    centileColour,\n    centileWidth,\n    pubertyFill,\n    midparentalHeightStroke,\n    midparentalHeightStrokeWidth,\n    midparentalHeightFill\n);\n\nconst RCPCHAxes = new AxesObject(\n    axisstroke,\n    axisLabelTextStyle,\n    tickLabelTextStyle\n);\n\nconst RCPCHMeasurements = new MeasurementsObject(\n    measurementsFill,\n    highlightedMeasurementFill\n);\n\nconst RCPCHThemeTraditionalGirl = new ChartTheme(\n    RCPCHChart,\n    RCPCHGridlines,\n    RCPCHAxes,\n    RCPCHCentiles,\n    RCPCHMeasurements\n);\n\nexport default RCPCHThemeTraditionalGirl;\n","import React from \"react\";\nimport { Dimmer, Loader } from \"semantic-ui-react\";\n\nimport { RCPCHChart } from \"@rcpch/digital-growth-charts-react-component-library\";\n\nimport { addToClipboard } from \"../functions/addToClipboard\";\nimport { canvasFromSVG } from \"../functions/canvasFromSVG\";\n\nfunction ChartData(props) {\n  const isLoading = props.isLoading;\n  const titles = setTitle(props);\n\n  return (\n    <div>\n      <Dimmer active={isLoading}>\n        <Loader>Fetching Data</Loader>\n      </Dimmer>\n      <RCPCHChart\n        reference={props.reference}\n        measurementMethod={props.measurementMethod}\n        sex={props.sex}\n        title={titles.title}\n        subtitle={titles.subtitle}\n        measurementsArray={props.measurementsArray} // this is the plottable child data\n        midParentalHeightData={props?.midParentalHeightData}\n        chartStyle={props.chartStyle}\n        measurementStyle={props.measurementStyle}\n        centileStyle={props.centileStyle}\n        sdsStyle={props?.sdsStyle}\n        gridlineStyle={props.gridlineStyle}\n        axisStyle={props.axisStyle}\n        enableZoom\n        chartType={props.chartType}\n        enableExport={true}\n        exportChartCallback={exportChartCallback}\n      />\n    </div>\n  );\n}\n\nfunction exportChartCallback(svg) {\n  canvasFromSVG(svg).then((result) => {\n    addToClipboard(result);\n  });\n}\n\nfunction setTitle(props) {\n  // set the title of the chart\n  let title = \"\";\n  let subTitle = \"\";\n  if (props.reference === \"uk-who\") {\n    title = \"UK-WHO\";\n  } else if (props.reference === \"turner\") {\n    title = \"Turner's Syndrome\";\n  } else if (props.reference === \"trisomy-21\") {\n    title = \"Trisomy 21 (Down's Syndrome)\";\n  }\n\n  let sexText = \"\";\n  let measurementText = \"\";\n  if (props.sex === \"male\") {\n    sexText = \"Boys\";\n  } else {\n    sexText = \"Girls\";\n  }\n\n  switch (props.measurementMethod) {\n    case \"height\":\n      measurementText = \"Height / Length\";\n      break;\n    case \"weight\":\n      measurementText = \"Weight\";\n      break;\n    case \"bmi\":\n      measurementText = \"Body Mass Index\";\n      break;\n    case \"ofc\":\n      measurementText = \"Head Circumference\";\n      break;\n    default:\n      measurementText = \"\";\n      break;\n  }\n\n  subTitle = measurementText + \" - \" + sexText;\n\n  return { subtitle: subTitle, title: title };\n}\n\nexport default ChartData;\n","export const canvasFromSVG = (svg) => {\n    return new Promise((resolve, reject) => {\n        // get outerHTML\n        let outerHTMLSVG = svg.outerHTML;\n        // add namespace\n        if (!outerHTMLSVG.match(/xmlns=\"/im)) {\n            outerHTMLSVG = outerHTMLSVG.replace(\n                '<svg ',\n                '<svg xmlns=\"http://www.w3.org/2000/svg\" '\n            );\n        }\n        // create blob\n        const blob = new Blob([outerHTMLSVG], {\n            type: 'image/svg+xml;charset=utf-8',\n        });\n        // create url\n        const domURL = window.URL || window.webkitURL || window;\n        const blobURL = domURL.createObjectURL(blob);\n        // figure out the height and width from svg text\n        let match = outerHTMLSVG.match(/height=\"(\\d+)/m);\n        const height = match && match[1] ? parseInt(match[1], 10) : 200;\n        match = outerHTMLSVG.match(/width=\"(\\d+)/m);\n        const width = match && match[1] ? parseInt(match[1], 10) : 200;\n        // create a canvas element to pass through\n        const canvas = document.createElement('canvas');\n        canvas.width = width + 5;\n        canvas.height = height + 5;\n        const ctx = canvas.getContext('2d');\n\n        const image = new Image();\n        image.onload = function () {\n            console.log('image loaded');\n            ctx.drawImage(this, 5, 5);\n            // we don't need the original any more\n            domURL.revokeObjectURL(blobURL);\n            // download(canvas);\n            resolve(canvas);\n        };\n\n        image.src = blobURL;\n    });\n};\n","export const addToClipboard = (canvas) => {\n    canvas.toBlob(function (blob) {\n        const item = new window.ClipboardItem({ 'image/png': blob });\n        navigator.clipboard.write([item]);\n    });\n};\n","// deep copy variables\n// note: this is only copies enumerable properties\n\nconst deepCopyArray = (oldArray) => {\n    const copyArray = [];\n    oldArray.forEach((element) => {\n        if (Array.isArray(element)) {\n            copyArray.push(deepCopyArray(element));\n        } else {\n            if (typeof element === 'object' && element !== null) {\n                copyArray.push(deepCopyObject(element));\n            } else {\n                copyArray.push(element);\n            }\n        }\n    });\n    return copyArray;\n};\n\nconst deepCopyObject = (oldObject) => {\n    const tempObject = {};\n    for (const key in oldObject) {\n        const value = oldObject[key];\n        if (Array.isArray(value)) {\n            tempObject[key] = deepCopyArray(value);\n        } else {\n            if (typeof value === 'object' && value !== null) {\n                tempObject[key] = deepCopyObject(value);\n            } else {\n                tempObject[key] = value;\n            }\n        }\n    }\n    return tempObject;\n};\n\nconst deepCopy = (input) => {\n    if (Array.isArray(input)) {\n        return deepCopyArray(input);\n    } else if (typeof input === 'object' && input !== null) {\n        return deepCopyObject(input);\n    } else {\n        return input;\n    }\n};\n\nexport default deepCopy;\n","export const units = (measurementMethod) => {\n    if (measurementMethod === 'height') {\n        return 'cm';\n    }\n    if (measurementMethod === 'weight') {\n        return 'kg';\n    }\n    if (measurementMethod === 'bmi') {\n        return 'kg/m²';\n    }\n    if (measurementMethod === 'ofc') {\n        return 'cm';\n    }\n};\n","import React from 'react';\nimport { Table } from 'semantic-ui-react';\nimport { units } from './../../functions/units';\n\nexport const TableBody = (props) => {\n    const measurement = props.measurement;\n    return (\n        <React.Fragment>\n            <Table.Row>\n                <Table.Cell>Ages</Table.Cell>\n                <Table.Cell>\n                    {measurement.measurement_dates.chronological_calendar_age}\n                </Table.Cell>\n                <Table.Cell>\n                    {measurement.measurement_dates.corrected_calendar_age ??\n                        measurement.plottable_data.centile_data\n                            .corrected_decimal_age_data\n                            .corrected_gestational_age}\n                </Table.Cell>\n            </Table.Row>\n            <Table.Row>\n                <Table.Cell>Measurement</Table.Cell>\n                <Table.Cell>\n                    {measurement.child_observation_value.observation_value}{' '}\n                    {units(\n                        measurement.child_observation_value.measurement_method\n                    )}\n                </Table.Cell>\n                <Table.Cell></Table.Cell>\n            </Table.Row>\n            <Table.Row>\n                <Table.Cell>SDS</Table.Cell>\n                <Table.Cell>\n                    {Math.round(\n                        measurement.measurement_calculated_values\n                            .corrected_sds * 1000\n                    ) / 1000}\n                </Table.Cell>\n                <Table.Cell>\n                    {Math.round(\n                        measurement.measurement_calculated_values\n                            .chronological_sds * 1000\n                    ) / 1000}\n                </Table.Cell>\n            </Table.Row>\n            <Table.Row>\n                <Table.Cell>Centiles</Table.Cell>\n                <Table.Cell>\n                    {\n                        measurement.measurement_calculated_values\n                            .corrected_centile\n                    }\n                </Table.Cell>\n                <Table.Cell>\n                    {\n                        measurement.measurement_calculated_values\n                            .chronological_centile\n                    }\n                </Table.Cell>\n            </Table.Row>\n        </React.Fragment>\n    );\n};\n","import React from \"react\";\nimport { Segment, Table } from \"semantic-ui-react\";\nimport { TableBody } from \"../subcomponents/TableBody\";\n\nexport const ResultsSegment = ({ apiResult, reference }) => (\n  <Segment>\n    <Table basic=\"very\" celled collapsing compact>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell></Table.HeaderCell>\n          <Table.HeaderCell>Corrected Results</Table.HeaderCell>\n          <Table.HeaderCell>Chronological Results</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        {apiResult[reference].height.length > 0 && (\n          <Table.Row>\n            <Table.HeaderCell></Table.HeaderCell>\n            <Table.HeaderCell>Heights</Table.HeaderCell>\n            <Table.HeaderCell></Table.HeaderCell>\n          </Table.Row>\n        )}\n        {apiResult[reference].height.length > 0 &&\n          apiResult[reference].height.map((measurement, index) => {\n            return <TableBody measurement={measurement} key={index} />;\n          })}\n        {apiResult[reference].weight.length > 0 && (\n          <Table.Row>\n            <Table.HeaderCell></Table.HeaderCell>\n            <Table.HeaderCell>Weights</Table.HeaderCell>\n            <Table.HeaderCell></Table.HeaderCell>\n          </Table.Row>\n        )}\n        {apiResult[reference].weight.length > 0 &&\n          apiResult[reference].weight.map((measurement, index) => {\n            return <TableBody key={index} measurement={measurement} />;\n          })}\n        {apiResult[reference].bmi.length > 0 && (\n          <Table.Row>\n            <Table.HeaderCell></Table.HeaderCell>\n            <Table.HeaderCell>BMIs</Table.HeaderCell>\n            <Table.HeaderCell></Table.HeaderCell>\n          </Table.Row>\n        )}\n        {apiResult[reference].bmi.length > 0 &&\n          apiResult[reference].bmi.map((measurement, index) => {\n            return <TableBody key={index} measurement={measurement} />;\n          })}\n        {apiResult[reference].ofc.length > 0 && (\n          <Table.Row>\n            <Table.HeaderCell></Table.HeaderCell>\n            <Table.HeaderCell>Head Circumferences</Table.HeaderCell>\n            <Table.HeaderCell></Table.HeaderCell>\n          </Table.Row>\n        )}\n        {apiResult[reference].ofc.length > 0 &&\n          apiResult[reference].ofc.map((measurement, index) => {\n            return <TableBody key={index} measurement={measurement} />;\n          })}\n      </Table.Body>\n    </Table>\n  </Segment>\n);\n","import React from 'react';\nimport { Button, Modal } from 'semantic-ui-react';\n\nexport const ErrorModal = ({\n    title,\n    body,\n    handleClose,\n    visible,\n    handleCancel,\n}) => {\n    const showCancel = handleCancel ? true : false;\n    return (\n        <Modal title={title} open={visible} size=\"small\" closeOnEscape={true}>\n            <Modal.Header>{title}</Modal.Header>\n            <Modal.Content>{body}</Modal.Content>\n            <Modal.Actions>\n                <Button negative onClick={handleClose}>\n                    OK\n                </Button>\n                {showCancel && <Button onClick={handleCancel}>Cancel</Button>}\n            </Modal.Actions>\n        </Modal>\n    );\n};\n","import React from 'react';\nimport { Select } from 'semantic-ui-react';\n\nfunction IntervalTypeSelect(props) {\n    return (\n        <Select\n            name=\"interval\"\n            placeholder=\"days\"\n            value={props.intervalType}\n            onChange={props.handleChangeIntervalType}\n            options={props.intervalTypeOptions}\n        />\n    );\n}\n\nexport default IntervalTypeSelect;\n","import React from 'react';\n\nconst Slider = (props) => {\n    return (\n        <div style={{ textAlign: 'left' }}>\n            <label style={{ padding: '10px' }}>{props.min} </label>\n\n            <input\n                type=\"range\"\n                min={props.min}\n                max={props.max}\n                value={props.value}\n                step={props.step}\n                className=\"slider\"\n                onChange={(e) => props.onChange(e.target.value)}\n            />\n\n            <label style={{ padding: '10px' }}>{props.max}</label>\n\n            <h5 style={{ display: 'inline' }}>\n                {props.label}: {props.value} {props.isPercentage ? '%' : 'SDS'}\n            </h5>\n        </div>\n    );\n};\n\nexport default Slider;\n","const intervalTypeOptions = [\n    { key: 'd', value: 'days', text: 'Days', disabled: false },\n    { key: 'w', value: 'weeks', text: 'Weeks', disabled: false },\n    { key: 'm', value: 'months', text: 'Months', disabled: false },\n    { key: 'y', value: 'years', text: 'Years', disabled: false },\n];\nexport default intervalTypeOptions;\n","import React, { useState, useEffect } from 'react';\n\nimport { Form, Input, Header, Checkbox, Button } from 'semantic-ui-react';\n\nimport GestationSelect from './subcomponents/GestationSelect';\nimport IntervalTypeSelect from './subcomponents/IntervalSelect';\nimport MeasurementMethodSelect from './subcomponents/MeasurementMethodSelect';\nimport ReferenceSelect from './subcomponents/ReferenceSelect';\nimport SexSelect from './subcomponents/SexChoice';\nimport Slider from './subcomponents/Slider';\nimport UtilitiesForm from './subcomponents/UtilitiesForm';\n\nimport referenceOptions from '../selectData/referenceOptions';\nimport sexOptions from '../selectData/sexOptions';\nimport measurementOptions from '../selectData/measurementOptions';\nimport intervalOptions from '../selectData/intervalOptions';\nimport ErrorText from './subcomponents/ErrorText';\n\nconst FictionalChildForm = (props) => {\n    const [weeks, setWeeks] = useState(40);\n    const [days, setDays] = useState(0);\n    const [startingAge, setStartingAge] = useState('1');\n    const [endingAge, setEndingAge] = useState('20');\n    const [intervalType, setIntervalType] = useState('years');\n    const [interval, setInterval] = useState('1');\n    const [driftFlag, setDriftFlag] = useState(false);\n    const [drift, setDrift] = useState(0.01);\n    const [noiseFlag, setNoiseFlag] = useState(false);\n    const [noise, setNoise] = useState(1.0); // note this is a percentage must be converted back to a decimal for the API\n    const [startSDS, setStartSDS] = useState('0');\n    const [errorMessage, setErrorMessage] = useState('');\n\n    const handleBigButtonPress = ({ type }) => {\n        if (type === 'submit') {\n            const values = {\n                measurement_method: props.globalState.measurementMethod,\n                sex: props.globalState.sex,\n                start_chronological_age: startingAge,\n                end_age: endingAge,\n                gestation_weeks: weeks,\n                gestation_days: days,\n                measurement_interval_type: intervalType,\n                measurement_interval_number: interval,\n                start_sds: startSDS,\n                noise: noiseFlag,\n                drift_range: drift,\n                drift: driftFlag,\n                noise_range: noise,\n                reference: props.globalState.reference,\n            };\n            props.fictionalFormDataSubmit(values);\n        } else {\n            props.updateGlobalState('resetCurrent', true);\n        }\n    };\n\n    const handleChangeReference = (val) => {\n        props.updateGlobalState('reference', val.value);\n    };\n\n    const handleChangeMeasurementMethod = (val) => {\n        props.updateGlobalState('measurementMethod', val);\n    };\n\n    const handleSexChange = (val) => {\n        props.updateGlobalState('sex', val.value);\n    };\n\n    const handleGestationChange = ({ name, value }) => {\n        if (name === 'gestation_weeks') {\n            setWeeks(value);\n            if (value === 42) {\n                setDays(0);\n            }\n        } else if (name === 'gestation_days') {\n            if (weeks === 42) {\n                setDays(0);\n            } else {\n                setDays(value);\n            }\n        }\n    };\n\n    const handleObservationChange = (e, { name, value }) => {\n        if (name === 'start_age') {\n            setStartingAge(value);\n        }\n        if (name === 'end_age') {\n            setEndingAge(value);\n        }\n        if (name === 'interval_value') {\n            setInterval(value);\n        }\n        if (name === 'startSDS') {\n            setStartSDS(value);\n        }\n    };\n\n    const handleChangeIntervalType = (e, { value }) => {\n        setIntervalType(value);\n    };\n\n    const handleSDSDriftChange = (e, { checked }) => {\n        setDriftFlag(checked);\n    };\n\n    const handleDriftChange = (val) => {\n        setDrift(val);\n    };\n\n    const handleNoiseChange = (val) => {\n        setNoise(val);\n    };\n\n    const handleNoiseFlag = (e, { checked }) => {\n        setNoiseFlag(checked);\n    };\n\n    const makeDynamic = (option) => {\n        const newDisabled = props.globalState.disabled[option.key];\n        return { ...option, disabled: newDisabled };\n    };\n\n    const dynamicMeasurementOptions = measurementOptions.map(makeDynamic);\n\n    const dynamicSexOptions = sexOptions.map(makeDynamic);\n\n    const handleMaternalHeight = (event, data) => {\n        const paternalHeight =\n            props.globalState['parentalHeights']['height_paternal'];\n        const heights = {\n            height_maternal: data.value,\n            height_paternal: paternalHeight,\n        };\n        props.updateGlobalState('parentalHeights', heights);\n    };\n\n    const handlePaternalHeight = (event, data) => {\n        const maternalHeight =\n            props.globalState['parentalHeights']['height_maternal'];\n        const heights = {\n            height_maternal: maternalHeight,\n            height_paternal: data.value,\n        };\n        props.updateGlobalState('parentalHeights', heights);\n    };\n\n    const removeMidParentalHeight = () => {\n        props.updateGlobalState('mid-parental-height', 'reset');\n    };\n\n    const midParentalHeightDataPresent = () => {\n        if (props.globalState['mid-parental-height'].mid_parental_height) {\n            return true;\n        } else {\n            return false;\n        }\n    };\n\n    const handleUtilitiesDataSubmit = (event) => {\n        if (event.target[0].value < 100 && event.target[1].value < 100) {\n            return;\n        }\n        const formData = {\n            height_maternal: event.target[0].value,\n            height_paternal: event.target[1].value,\n            sex: props.globalState['sex'],\n        };\n        props.updateGlobalState('isMidParentalHeightRequest', true);\n        props.updateGlobalState('parentalHeights', {\n            maternalHeight: event.target[0].value,\n            paternalHeight: event.target[1].value,\n        });\n        console.log(props);\n        props.handleUtilitiesFormDataSubmit(formData);\n    };\n\n    useEffect(() => {\n        switch (true) {\n            case Number(startingAge) < 0:\n                setErrorMessage('Starting age must be above 0.');\n                break;\n            case Number(endingAge) > 20:\n                setErrorMessage('Ending age must be under 20.');\n                break;\n            case Number.isNaN(Number(startingAge)):\n            case Number.isNaN(Number(endingAge)):\n            case Number.isNaN(Number(interval)):\n            case Number.isNaN(Number(startSDS)):\n                setErrorMessage(\n                    'Please check that all entries have valid numbers.'\n                );\n                break;\n            case startingAge === '':\n            case endingAge === '':\n            case interval === '':\n            case startSDS === '':\n                setErrorMessage('Please check that all entries are filled in.');\n                break;\n            default:\n                setErrorMessage('');\n        }\n    }, [startingAge, endingAge, interval, startSDS]);\n\n    return (\n        <div>\n            <Form onSubmit={handleBigButtonPress}>\n                <Form.Field>\n                    <ReferenceSelect\n                        handleChangeReference={handleChangeReference}\n                        reference={props.globalState.reference}\n                        referenceOptions={referenceOptions}\n                    />\n                </Form.Field>\n                <Form.Field>\n                    <MeasurementMethodSelect\n                        handleChangeMeasurementMethod={\n                            handleChangeMeasurementMethod\n                        }\n                        measurementMethod={props.globalState.measurementMethod}\n                        measurementOptions={dynamicMeasurementOptions}\n                    />\n                </Form.Field>\n                <Form.Field>\n                    <SexSelect\n                        handleSexChange={handleSexChange}\n                        sex={props.globalState.sex}\n                        sexOptions={dynamicSexOptions}\n                    />\n                </Form.Field>\n                <Form.Field>\n                    <GestationSelect\n                        handleGestationChange={handleGestationChange}\n                        weeks={weeks}\n                        days={days}\n                    />\n                </Form.Field>\n                <Header as=\"h5\" textAlign={'left'}>\n                    Ages\n                </Header>\n                <Form.Field>\n                    <Input\n                        type=\"decimal\"\n                        name=\"start_age\"\n                        placeholder=\"Starting Decimal Age\"\n                        value={startingAge}\n                        label={{\n                            content: 'years',\n                            basic: true,\n                            color: 'black',\n                        }}\n                        labelPosition=\"right\"\n                        onChange={handleObservationChange}\n                    ></Input>\n                </Form.Field>\n                <Form.Field>\n                    <Input\n                        type=\"decimal\"\n                        name=\"end_age\"\n                        placeholder=\"Ending Decimal Age\"\n                        value={endingAge}\n                        label={{\n                            content: 'years',\n                            basic: true,\n                            color: 'black',\n                        }}\n                        labelPosition=\"right\"\n                        onChange={handleObservationChange}\n                    ></Input>\n                </Form.Field>\n                <Header as=\"h5\" textAlign={'left'}>\n                    Intervals\n                </Header>\n                <Form.Field>\n                    <IntervalTypeSelect\n                        handleChangeIntervalType={handleChangeIntervalType}\n                        intervalType={intervalType}\n                        intervalTypeOptions={intervalOptions}\n                    />\n                </Form.Field>\n                <Form.Field>\n                    <Input\n                        type=\"decimal\"\n                        name=\"interval_value\"\n                        placeholder=\"Interval amount\"\n                        value={interval}\n                        onChange={handleObservationChange}\n                    />\n                </Form.Field>\n                <Header as=\"h5\" textAlign={'left'}>\n                    SDS (Standard Deviation Score)\n                </Header>\n                <Form.Field>\n                    <Form.Input\n                        label=\"Starting SDS\"\n                        type=\"decimal\"\n                        name=\"startSDS\"\n                        placeholder=\"SDS\"\n                        value={startSDS}\n                        labelPosition=\"left\"\n                        onChange={handleObservationChange}\n                    ></Form.Input>\n                </Form.Field>\n                <ErrorText errorText={errorMessage} />\n                <Form.Field width={14} style={{ textAlign: 'left' }}>\n                    <Checkbox\n                        toggle\n                        label=\"Add SDS drift?\"\n                        onChange={handleSDSDriftChange}\n                    />\n                </Form.Field>\n                {driftFlag && (\n                    <Form.Field width={14}>\n                        <Slider\n                            isPercentage={false}\n                            min={-3}\n                            max={3}\n                            value={drift}\n                            step={0.01}\n                            onChange={handleDriftChange}\n                            label=\"Drift\"\n                        />\n                    </Form.Field>\n                )}\n                {/* </Form.Group> */}\n\n                <Form.Field width={14} style={{ textAlign: 'left' }}>\n                    <Checkbox\n                        toggle\n                        label=\"Simulate Measurement Error?\"\n                        onChange={handleNoiseFlag}\n                    />\n                </Form.Field>\n                {noiseFlag && (\n                    <Form.Field width={14}>\n                        <Slider\n                            isPercentage={true}\n                            min={0}\n                            max={10}\n                            value={noise}\n                            step={0.1}\n                            onChange={handleNoiseChange}\n                            label=\"Percentage Error\"\n                        />\n                    </Form.Field>\n                )}\n                <Form.Field>\n                    <Button\n                        content=\"Generate Growth Data\"\n                        type=\"submit\"\n                        fluid\n                        color=\"black\"\n                        icon=\"line graph\"\n                        labelPosition=\"right\"\n                        disabled={errorMessage !== ''}\n                    />\n                </Form.Field>\n                {props.globalState.isDataPresent && (\n                    <Form.Field>\n                        <Button\n                            content=\"Reset Chart\"\n                            icon=\"power off\"\n                            onClick={handleBigButtonPress}\n                            style={{ width: '100%' }}\n                            type=\"reset\"\n                        />\n                    </Form.Field>\n                )}\n            </Form>\n\n            {props.globalState.reference === 'uk-who' && (\n                <UtilitiesForm\n                    utilitiesFormDataSubmit={handleUtilitiesDataSubmit}\n                    changeMaternalHeight={handleMaternalHeight}\n                    changePaternalHeight={handlePaternalHeight}\n                    maternalHeight={\n                        props.globalState.parentalHeights.height_maternal\n                    }\n                    paternalHeight={\n                        props.globalState.parentalHeights.height_paternal\n                    }\n                    removeMidParentalHeight={removeMidParentalHeight}\n                    midParentalHeightDataPresent={midParentalHeightDataPresent()}\n                />\n            )}\n        </div>\n    );\n};\n\nexport default FictionalChildForm;\n","import { useEffect, useState, useCallback } from \"react\";\nimport axios from \"axios\";\n\nimport deepCopy from \"../functions/deepCopy\";\n\nconst fetchFromApi = async (inputParameters, reference, mode) => {\n  /*\n  This code snippet makes an API call direct to the digital growth charts server\n  It uses a development API key stored in .env which is unsafe\n  In due course this endpoint will be deprecated.\n  */\n\n  let url = `${process.env.REACT_APP_GROWTH_API_BASEURL}/${reference}/${mode}`;\n  if (mode === \"mid-parental-height\") {\n    url = `${process.env.REACT_APP_GROWTH_API_BASEURL}/utilities/${mode}`;\n  }\n\n  const headers = process.env.REACT_APP_API_KEY\n    ? {\n        \"Content-Type\": \"application/json\",\n        \"Subscription-Key\": process.env.REACT_APP_API_KEY,\n      }\n    : { \"Content-Type\": \"application/json\" };\n  const response = await axios({\n    url: url,\n    data: inputParameters,\n    method: \"POST\",\n    headers,\n  });\n\n  /*\n  This code snippet directs the form data to a node server which holds the API key and makes the \n  call to the digital growth chart server.\n  Cors is used to constrain accepted domains to the react demo client\n  */\n  // const nodeURL = 'http://localhost:8001/rcpchgrowth';\n  // const nodeURL = `http://localhost:8000/${reference}/${mode}`\n\n  // const options = {\n  //     // reference: reference,\n  //     // mode: mode,\n  //     formdata: inputParameters,\n  // };\n\n  // const headers = { 'Content-Type': 'application/json' };\n  // const response = await axios({\n  //     url: nodeURL,\n  //     data: options,\n  //     method: 'POST',\n  //     headers: headers,\n  // });\n\n  return response.data;\n};\n\nconst makeInitialState = () => {\n  const midParentalHeights = {\n    mid_parental_height: null,\n    mid_parental_height_sds: null,\n    mid_parental_height_centile: null,\n    mid_parental_height_centile_data: null,\n    mid_parental_height_lower_centile_data: null,\n    mid_parental_height_upper_centile_data: null,\n    mid_parental_height_lower_value: null,\n    mid_parental_height_upper_value: null,\n  };\n\n  const measurements = {\n    turner: {\n      height: [],\n      weight: [],\n      bmi: [],\n      ofc: [],\n    },\n    \"trisomy-21\": {\n      height: [],\n      weight: [],\n      bmi: [],\n      ofc: [],\n    },\n    \"uk-who\": {\n      height: [],\n      weight: [],\n      bmi: [],\n      ofc: [],\n      parentalHeights: {\n        height_maternal: null,\n        height_paternal: null,\n        sex: null,\n      },\n      midParentalHeights: midParentalHeights,\n    },\n  };\n\n  return {\n    calculation: {\n      input: measurements,\n      output: measurements,\n    },\n    \"fictional-child-data\": {\n      input: measurements,\n      output: measurements,\n    },\n    errors: { errors: false, message: \"\" },\n    isLoading: false,\n    isMidparentalCalculation: false,\n  };\n};\n\nconst useRcpchApi = (measurementMethod, reference, mode = \"calculation\") => {\n  const [apiState, setApiState] = useState(makeInitialState);\n  const fetchResult = useCallback(\n    (newInput) => {\n      setApiState((old) => {\n        let mutable = deepCopy(old);\n        if (newInput.height_maternal && newInput.height_paternal) {\n          mutable[mode].input[reference][\"parentalHeights\"] = newInput;\n          mutable.isMidparentalCalculation = true;\n        } else {\n          mutable[mode].input[reference][measurementMethod].push(newInput);\n        }\n        mutable.isLoading = true;\n        return mutable;\n      });\n    },\n    [measurementMethod, mode, reference]\n  );\n\n  /* \n  Remove last item from arrays. Defaults to removing last item from measurements array only. \n  If 'both' parameter is set to true, removes last item from measurements array and \n  results array.\n  */\n  const removeLastFromArrays = useCallback(\n    (oldState, both = false) => {\n      const newInput = deepCopy(\n        oldState[mode].input[reference][measurementMethod]\n      );\n      newInput.pop();\n      let newOutput = null;\n      if (both) {\n        newOutput = oldState[mode].output[reference][measurementMethod];\n        newOutput.pop();\n      }\n      return { newInput, newOutput };\n    },\n    [measurementMethod, mode, reference]\n  );\n\n  // as above but updates state as well (used as a callback)\n  const removeLastActiveItem = useCallback(\n    (both) => {\n      setApiState((old) => {\n        const mutable = deepCopy(old);\n        const { newInput, newOutput } = removeLastFromArrays(old, both);\n        mutable[mode].input[reference][measurementMethod] = newInput;\n        if (newOutput) {\n          mutable[mode].output[reference][measurementMethod] = newOutput;\n        }\n        return mutable;\n      });\n    },\n    [setApiState, removeLastFromArrays, mode, reference, measurementMethod]\n  );\n\n  const clearBothActiveArrays = useCallback(() => {\n    setApiState((old) => {\n      const mutable = deepCopy(old);\n      mutable[mode].input[reference][measurementMethod] = [];\n      mutable[mode].output[reference][measurementMethod] = [];\n      return mutable;\n    });\n  }, [measurementMethod, mode, reference]);\n\n  const clearApiErrors = useCallback(() => {\n    setApiState((old) => {\n      const mutable = deepCopy(old);\n      mutable.errors = { errors: false, message: \"\" };\n      return mutable;\n    });\n  }, []);\n\n  useEffect(() => {\n    let ignore = false;\n    if (apiState.isLoading) {\n      let relevantArray;\n      let latestInput;\n\n      if (apiState[\"isMidparentalCalculation\"]) {\n        latestInput = apiState[mode].input[reference][\"parentalHeights\"];\n      } else {\n        relevantArray = apiState[mode].input[reference][measurementMethod];\n        latestInput = deepCopy(relevantArray[relevantArray.length - 1]);\n      }\n\n      fetchFromApi(\n        latestInput,\n        reference,\n        apiState[\"isMidparentalCalculation\"] ? \"mid-parental-height\" : mode\n      )\n        .then((result) => {\n          if (!ignore) {\n            setApiState((old) => {\n              const mutable = deepCopy(old);\n              let measurementError = \"\";\n              let resultAsArray = null;\n              if (mutable.isMidparentalCalculation) {\n                mutable.errors = {\n                  errors: false,\n                  message: \"success\",\n                };\n                mutable[mode].input[reference][\"parentalheights\"] = latestInput;\n                mutable[mode].output[reference][\"midParentalHeights\"] = result;\n                mutable.isLoading = false;\n                mutable.isMidparentalCalculation = false;\n                return mutable;\n              }\n              if (mode === \"fictional-child-data\") {\n                resultAsArray = result;\n              }\n              if (mode === \"calculation\") {\n                resultAsArray = mutable[mode].output[reference][\n                  measurementMethod\n                ].concat([result]);\n              }\n              for (const singleResult of resultAsArray) {\n                if (resultAsArray.length < 2) {\n                  // only register errors for individual measurements\n                  measurementError =\n                    singleResult.measurement_calculated_values\n                      .corrected_measurement_error ||\n                    singleResult.measurement_calculated_values\n                      .chronological_measurement_error;\n                }\n                if (measurementError) {\n                  if (mode === \"fictional-child-data\") {\n                    mutable[mode].input[reference][measurementMethod] = [];\n                  } else {\n                    const { newInput } = removeLastFromArrays(old);\n                    mutable[mode].input[reference][measurementMethod] =\n                      newInput;\n                  }\n                  mutable.errors = {\n                    errors: true,\n                    message: `The server could not process the measurements. Details: ${measurementError}`,\n                  };\n                  mutable.isLoading = false;\n                  return mutable;\n                }\n              }\n              mutable[mode].output[reference][measurementMethod] =\n                resultAsArray;\n              mutable.errors = {\n                errors: false,\n                message: \"success\",\n              };\n              mutable.isLoading = false;\n              return mutable;\n            });\n          }\n        })\n        .catch((error) => {\n          setApiState((old) => {\n            const mutable = deepCopy(old);\n            const { newInput } = removeLastFromArrays(old);\n            mutable[mode].input[reference][measurementMethod] = newInput;\n            const errorForUser = `There has been a problem fetching the result from the server. Error details: ${error.message}`;\n            mutable.errors = {\n              errors: true,\n              message: errorForUser,\n            };\n            mutable.isLoading = false;\n            return mutable;\n          });\n        });\n    }\n    return () => {\n      ignore = true;\n    };\n  }, [apiState, measurementMethod, mode, reference, removeLastFromArrays]);\n\n  return {\n    fetchResult,\n    removeLastActiveItem,\n    clearBothActiveArrays,\n    clearApiErrors,\n    measurements: apiState[mode].input,\n    results: apiState[mode].output,\n    apiErrors: apiState.errors,\n    isLoading: apiState.isLoading,\n  };\n};\n\nexport default useRcpchApi;\n","import { useState, useCallback } from 'react';\nimport deepCopy from '../functions/deepCopy';\nimport { units } from '../functions/units';\n\nconst makeGlobalState = () => {\n    return {\n        mode: 'calculation',\n        modeActiveIndex: 0,\n        reference: 'uk-who',\n        measurementMethod: 'height',\n        units: 'cm',\n        measurementMethodActiveIndex: 0,\n        sex: 'male',\n        parentalHeights: {\n            height_maternal: null,\n            height_paternal: null,\n        },\n        'mid-parental-height': {\n            mid_parental_height: null,\n            mid_parental_height_sds: null,\n            mid_parental_height_centile: null,\n            mid_parental_height_centile_data: null,\n            mid_parental_height_lower_centile_data: null,\n            mid_parental_height_upper_centile_data: null,\n            mid_parental_height_lower_value: null,\n            mid_parental_height_upper_value: null,\n        },\n        disabled: {\n            height: false,\n            weight: false,\n            bmi: false,\n            ofc: false,\n            male: false,\n            female: false,\n        },\n        errors: {\n            errors: false,\n            message: '',\n        },\n        clearMeasurement: false,\n        resetCurrent: false,\n        undoLast: false,\n        isDataPresent: false,\n    };\n};\n\nconst measurementMethodActiveIndexLookup = [\n    'height',\n    'weight',\n    'bmi',\n    'ofc',\n    'sds',\n];\n\nconst useGlobalState = () => {\n    const [globalState, setGlobalState] = useState(makeGlobalState);\n    const makeGlobalStateUpdater = useCallback((results) => {\n        return (name, newValue) => {\n            setGlobalState((old) => {\n                const mutable = deepCopy(old);\n                switch (name) {\n                    case 'mode':\n                        mutable.mode = newValue;\n                        mutable.modeActiveIndex =\n                            newValue === 'calculation' ? 0 : 1;\n                        break;\n                    case 'modeActiveIndex':\n                        mutable.modeActiveIndex = newValue;\n                        switch (newValue) {\n                            case 0:\n                                mutable.mode = 'calculation';\n                                break;\n                            case 1:\n                                mutable.mode = 'fictional-child-data';\n                                break;\n                            default:\n                                mutable.mode = 'calculation';\n                                break;\n                        }\n                        break;\n                    case 'reference':\n                        mutable.reference = newValue;\n                        if (newValue === 'turner') {\n                            mutable.disabled = {\n                                height: false,\n                                weight: true,\n                                bmi: true,\n                                ofc: true,\n                                male: true,\n                                female: false,\n                            };\n                            mutable.measurementMethod = 'height';\n                            mutable.measurementMethodActiveIndex = 0;\n                            mutable.sex = 'female';\n                        } else {\n                            if (\n                                results[newValue][mutable.measurementMethod]\n                                    .length > 0 &&\n                                results[newValue][mutable.measurementMethod][0]\n                                    .birth_data.sex !== mutable.sex\n                            ) {\n                                mutable.sex =\n                                    results[newValue][\n                                        mutable.measurementMethod\n                                    ][0].birth_data.sex;\n                            }\n                            mutable.disabled = {\n                                height: false,\n                                weight: false,\n                                bmi: false,\n                                ofc: false,\n                                male: false,\n                                female: false,\n                            };\n                        }\n                        break;\n                    case 'measurementMethod':\n                        mutable.measurementMethod = newValue;\n                        mutable.units = units(newValue);\n                        for (\n                            let i = 0;\n                            i < measurementMethodActiveIndexLookup.length;\n                            i++\n                        ) {\n                            if (\n                                measurementMethodActiveIndexLookup[i] ===\n                                newValue\n                            ) {\n                                mutable.measurementMethodActiveIndex = i;\n                                break;\n                            }\n                        }\n                        break;\n                    case 'measurementMethodActiveIndex':\n                        const tempMeasurementMethod =\n                            measurementMethodActiveIndexLookup[newValue];\n                        if (\n                            mutable.reference === 'turner' &&\n                            tempMeasurementMethod !== 'height'\n                        ) {\n                            mutable.errors = {\n                                errors: true,\n                                message: 'Unable to change measurement type',\n                            };\n                        } else {\n                            mutable.measurementMethodActiveIndex = newValue;\n                            mutable.measurementMethod =\n                                measurementMethodActiveIndexLookup[newValue];\n                        }\n                        break;\n                    case 'sex':\n                        const existingResults = [\n                            ...results[mutable.reference][\n                                mutable.measurementMethod\n                            ],\n                        ];\n                        if (existingResults.length > 0) {\n                            for (const oldResult of existingResults) {\n                                if (newValue !== oldResult.sex) {\n                                    mutable.errors = {\n                                        errors: true,\n                                        message: 'Unable to change sex',\n                                    };\n                                    break;\n                                }\n                            }\n                        }\n                        if (!mutable.errors.message) {\n                            mutable.sex = newValue;\n                        }\n                        break;\n                    // case \"mid-parental-height\":\n                    //   if (newValue===\"reset\"){\n                    //     const empty = {\n                    //       height_maternal: null,\n                    //       height_paternal: null\n                    //     }\n                    //     mutable.parentalHeights = empty;\n                    //   } else {\n                    //     mutable.midparentalHeightData = newValue;\n                    //   }\n                    //   break;\n                    default:\n                        mutable[name] = newValue;\n                }\n                return mutable;\n            });\n        };\n    }, []);\n    return {\n        globalState,\n        makeGlobalStateUpdater,\n    };\n};\n\nexport default useGlobalState;\n","// React\nimport React, { useState, useEffect, useMemo } from \"react\";\n\n//themes\nimport RCPCHTheme1 from \"../components/chartThemes/rcpchTheme1\";\nimport RCPCHTheme2 from \"../components/chartThemes/rcpchTheme2\";\nimport RCPCHTheme3 from \"../components/chartThemes/rcpchTheme3\";\nimport RCPCHThemeMonochrome from \"../components/chartThemes/rcpchThemeMonochrome\";\nimport RCPCHThemeTraditionalBoy from \"../components/chartThemes/RCPCHThemeTraditionalBoy\";\nimport RCPCHThemeTraditionalGirl from \"../components/chartThemes/RCPCHThemeTraditionalGirl\";\n\n// Semantic UI React\nimport { Grid, Segment, Tab, Dropdown, Button } from \"semantic-ui-react\";\n\nimport ChartData from \"../api/Chart\";\nimport MeasurementForm from \"../components/MeasurementForm\";\nimport deepCopy from \"../functions/deepCopy\";\nimport { ResultsSegment } from \"../components/subcomponents/ResultsSegment\";\nimport { ErrorModal } from \"../components/subcomponents/ErrorModal\";\nimport \"../index.css\";\nimport FictionalChildForm from \"./FictionalChildForm\";\nimport useRcpchApi from \"../hooks/useRcpchApi\";\nimport useGlobalState from \"../hooks/useGlobalState\";\n\nconst defaultTheme = RCPCHThemeMonochrome;\n\nfunction MeasurementSegment() {\n  const [chartStyle, setChartSyle] = useState(defaultTheme.chart);\n  const [axisStyle, setAxisStyle] = useState(defaultTheme.axes);\n  const [centileStyle, setCentileStyle] = useState(defaultTheme.centiles);\n  const [sdsStyle, setSDSStyle] = useState(defaultTheme.sds);\n  const [centile, setCentile] = useState(true);\n  const [measurementStyle, setMeasurementStyle] = useState(\n    defaultTheme.measurements\n  );\n  const [theme, setTheme] = useState({\n    value: \"tanner4\",\n    text: \"Monochrome\",\n  });\n\n  const [flip, setFlip] = useState(false); // flag to determine if results or chart showing\n  const [errorModal, setErrorModal] = useState(InitalErrorModalState());\n  const { globalState, makeGlobalStateUpdater } = useGlobalState();\n\n  const {\n    mode,\n    modeActiveIndex,\n    reference,\n    measurementMethod,\n    measurementMethodActiveIndex,\n    sex,\n    disabled,\n    errors,\n    resetCurrent,\n    undoLast,\n  } = globalState;\n\n  const {\n    fetchResult,\n    removeLastActiveItem,\n    clearBothActiveArrays,\n    clearApiErrors,\n    measurements,\n    results,\n    apiErrors,\n    isLoading,\n  } = useRcpchApi(measurementMethod, reference, mode);\n\n  const updateGlobalState = useMemo(\n    () => makeGlobalStateUpdater(results),\n    [results, makeGlobalStateUpdater]\n  );\n\n  useEffect(() => {\n    if (apiErrors.errors) {\n      setErrorModal({\n        visible: true,\n        title: \"Unable to plot\",\n        body: apiErrors.message,\n        handleClose: () => {\n          clearApiErrors();\n          setErrorModal(InitalErrorModalState());\n        },\n      });\n    } else if (apiErrors.message === \"success\") {\n      updateGlobalState(\"clearMeasurement\", true);\n      clearApiErrors();\n    }\n    if (errors.errors) {\n      let body = \"Only height data is available for Turner Syndrome.\";\n      if (errors.message === \"Unable to change sex\") {\n        body =\n          \"Each chart can only display measurements from one patient at a time. Please reset the chart before entering measurements from a new patient.\";\n      }\n      setErrorModal({\n        visible: true,\n        title: errors.message,\n        body: body,\n        handleClose: () => setErrorModal(InitalErrorModalState()),\n      });\n      updateGlobalState(\"errors\", { errors: false, message: \"\" });\n    }\n  }, [errors, apiErrors, clearApiErrors, updateGlobalState]);\n\n  useEffect(() => {\n    if (theme.value === \"trad\") {\n      const selectedTheme =\n        sex === \"male\" ? RCPCHThemeTraditionalBoy : RCPCHThemeTraditionalGirl;\n      setCentileStyle(selectedTheme.centiles);\n      setChartSyle(selectedTheme.chart);\n      setMeasurementStyle(selectedTheme.measurements);\n      setAxisStyle(selectedTheme.axes);\n    }\n  }, [sex, theme.value]);\n\n  useEffect(() => {\n    if (results[reference][measurementMethod].length > 0) {\n      updateGlobalState(\"isDataPresent\", true);\n    } else {\n      updateGlobalState(\"isDataPresent\", false);\n    }\n  }, [results, reference, measurementMethod, updateGlobalState]);\n\n  if (resetCurrent) {\n    setErrorModal({\n      visible: true,\n      title: \"Are you sure you want to reset?\",\n      body: \"This will remove all measurements from the current chart.\",\n      handleCancel: () => setErrorModal(InitalErrorModalState()),\n      handleClose: () => {\n        clearBothActiveArrays();\n        setErrorModal(InitalErrorModalState());\n        updateGlobalState(\"mid-parental-height\", \"empty\");\n      },\n    });\n    updateGlobalState(\"resetCurrent\", false);\n  }\n\n  if (undoLast) {\n    setErrorModal({\n      visible: true,\n      title: \"Are you sure you want to remove the last measurement?\",\n      body: \"This will remove the last measurement entered on the chart.\",\n      handleCancel: () => setErrorModal(InitalErrorModalState()),\n      handleClose: () => {\n        removeLastActiveItem(true);\n        setErrorModal(InitalErrorModalState());\n      },\n    });\n    updateGlobalState(\"undoLast\", false);\n  }\n\n  const handleTabChange = (e, { activeIndex }) => {\n    updateGlobalState(\"measurementMethodActiveIndex\", activeIndex);\n  };\n\n  const handleModeChange = (e, { activeIndex }) => {\n    updateGlobalState(\"modeActiveIndex\", activeIndex);\n  };\n\n  const fictionalFormDataSubmit = (formData) => {\n    // convert percentage back to a decimal for the API\n    formData.noise_range = formData.noise_range / 100;\n    fetchResult(formData);\n  };\n\n  const utilitiesFormDataSubmit = (formData) => {\n    // delegate function from midparental height calculation\n    fetchResult(formData);\n    if (isLoading) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  const handleChangeTheme = (event, { value }) => {\n    let selectedTheme;\n    let text;\n\n    if (value === \"trad\") {\n      if (sex === \"male\") {\n        selectedTheme = RCPCHThemeTraditionalBoy;\n      } else {\n        selectedTheme = RCPCHThemeTraditionalGirl;\n      }\n      text = \"Traditional\";\n    }\n    if (value === \"tanner1\") {\n      selectedTheme = RCPCHTheme1;\n      text = \"Tanner 1\";\n    }\n    if (value === \"tanner2\") {\n      selectedTheme = RCPCHTheme2;\n      text = \"Tanner 2\";\n    }\n    if (value === \"tanner3\") {\n      selectedTheme = RCPCHTheme3;\n      text = \"Tanner 3\";\n    }\n    if (value === \"monochrome\") {\n      selectedTheme = RCPCHThemeMonochrome;\n      text = \"Monochrome\";\n    }\n\n    setCentileStyle(selectedTheme.centiles);\n    setSDSStyle(selectedTheme?.sds);\n    setChartSyle(selectedTheme.chart);\n    setMeasurementStyle(selectedTheme.measurements);\n    setAxisStyle(selectedTheme.axes);\n    setTheme({ value: value, text: text });\n  };\n\n  const handleFlipResults = () => {\n    setFlip(!flip);\n  };\n\n  const handleCentileSDS = () => {\n    setCentile(!centile);\n  };\n\n  const handleResults = (latestResult) => {\n    // delegate function from MeasurementForm\n    // receives form data and stores in the correct measurement array\n    // checks for duplicates, mismatching dobs, sexes and gestations\n    if (!isLoading) {\n      const existingResults = deepCopy(\n        measurements[reference][measurementMethod]\n      );\n      let errorString = \"\";\n      if (existingResults.length > 0) {\n        const newGestation =\n          latestResult.gestation_weeks * 7 + latestResult.gestation_days;\n        const newErrors = [];\n        for (const oldResult of existingResults) {\n          if (JSON.stringify(oldResult) === JSON.stringify(latestResult)) {\n            errorString = \"duplicate\";\n            break;\n          }\n          const oldGestation =\n            oldResult.gestation_weeks * 7 + oldResult.gestation_days;\n          if (oldResult.sex !== latestResult.sex) {\n            newErrors.push(\"differing sexes\");\n          }\n          if (oldResult.birth_date !== latestResult.birth_date) {\n            newErrors.push(\"differing date of births\");\n          }\n          if (oldGestation !== newGestation) {\n            newErrors.push(\"differing gestations\");\n          }\n          if (newErrors.length > 0) {\n            errorString = newErrors[0];\n            if (newErrors.length === 2) {\n              errorString = newErrors.join(\" and \");\n            } else if (newErrors.length === 3) {\n              errorString = `${newErrors[0]}, ${newErrors[1]} and ${newErrors[2]}`;\n            }\n            break;\n          }\n        }\n      }\n      if (errorString) {\n        if (errorString === \"duplicate\") {\n          setErrorModal({\n            visible: true,\n            title: \"Duplicate entries\",\n            body: `Please check the last measurement entry as it appears to be identical to a measurement already entered.`,\n            handleClose: () => setErrorModal(InitalErrorModalState()),\n          });\n        } else {\n          setErrorModal({\n            visible: true,\n            title: \"Please check entries\",\n            body: `Each chart can only display measurements from one patient at a time: ${errorString} were detected.`,\n            handleClose: () => setErrorModal(InitalErrorModalState()),\n          });\n        }\n        return false;\n      } else {\n        fetchResult(latestResult);\n        return true;\n      }\n    }\n  };\n\n  const panes = panesBlueprint.map((details, index) => {\n    return {\n      menuItem: details.menuItem,\n      render: () => {\n        return centile ? (\n          <Tab.Pane\n            key=\"charts\"\n            attached=\"top\"\n            disabled={disabled[details.measurementName]}\n          >\n            <ChartData\n              key={`centile-${index}`}\n              reference={reference}\n              sex={sex}\n              measurementMethod={details.measurementName}\n              measurementsArray={results[reference][details.measurementName]}\n              midParentalHeightData={results[reference][\"midParentalHeights\"]}\n              chartStyle={chartStyle}\n              axisStyle={axisStyle}\n              gridlineStyle={defaultTheme.gridlines}\n              centileStyle={centileStyle}\n              measurementStyle={measurementStyle}\n              isLoading={isLoading}\n              chartType=\"centile\"\n            />\n          </Tab.Pane>\n        ) : (\n          <Tab.Pane attached=\"top\" key=\"sds\">\n            <ChartData\n              key={`sds-${index}`}\n              reference={reference}\n              sex={sex}\n              measurementMethod={details.measurementName}\n              measurementsArray={results[reference]}\n              midParentalHeightData={results[reference][\"midParentalHeights\"]}\n              chartStyle={chartStyle}\n              axisStyle={axisStyle}\n              gridlineStyle={defaultTheme.gridlines}\n              centileStyle={centileStyle}\n              sdsStyle={sdsStyle}\n              measurementStyle={measurementStyle}\n              isLoading={isLoading}\n              chartType=\"sds\"\n            />\n          </Tab.Pane>\n        );\n      },\n    };\n  });\n\n  const TabPanes = () => (\n    <Tab\n      key=\"tabPanes\"\n      menu={{\n        attached: \"top\",\n        secondary: true,\n        pointing: true,\n      }}\n      panes={panes}\n      activeIndex={measurementMethodActiveIndex}\n      onTabChange={handleTabChange}\n    />\n  );\n\n  const FormPanes = [\n    {\n      key: \"measurements\",\n      menuItem: \"Measurements\",\n      render: () => (\n        <Tab.Pane attached={false} key=\"measurements\">\n          <MeasurementForm\n            handleMeasurementResult={handleResults}\n            globalState={globalState}\n            updateGlobalState={updateGlobalState}\n            className=\"measurement-form\"\n            handleUtilitiesFormDataSubmit={utilitiesFormDataSubmit}\n            themeColour={centileStyle.centileStroke}\n          />\n        </Tab.Pane>\n      ),\n    },\n    {\n      key: \"examples\",\n      menuItem: \"Examples\",\n      render: () => (\n        <Tab.Pane key=\"examples\">\n          <FictionalChildForm\n            fictionalFormDataSubmit={fictionalFormDataSubmit}\n            globalState={globalState}\n            updateGlobalState={updateGlobalState}\n            handleUtilitiesFormDataSubmit={utilitiesFormDataSubmit}\n          />\n        </Tab.Pane>\n      ),\n    },\n  ];\n\n  const ThemeSelection = () => (\n    <span>\n      Theme{\" \"}\n      <Dropdown\n        options={themeOptions}\n        floating\n        inline\n        onChange={handleChangeTheme}\n        text={theme.text}\n      />\n    </span>\n  );\n\n  return (\n    <React.Fragment>\n      <Grid padded>\n        <Grid.Row>\n          <Grid.Column width={6}>\n            <Segment\n              textAlign={\"center\"}\n              color={mode === \"fictional-child-data\" ? \"black\" : null}\n            >\n              <Tab\n                key=\"measurementTabs\"\n                panes={FormPanes}\n                menu={{\n                  attached: false,\n                  secondary: true,\n                  pointing: true,\n                }}\n                onTabChange={handleModeChange}\n                activeIndex={modeActiveIndex}\n              />\n            </Segment>\n          </Grid.Column>\n          <Grid.Column width={10}>\n            <Segment color={mode === \"fictional-child-data\" ? \"black\" : null}>\n              {flip ? (\n                <ResultsSegment apiResult={results} reference={reference} />\n              ) : (\n                <div>\n                  <TabPanes />\n                </div>\n              )}\n              <Grid verticalAlign=\"middle\">\n                <Grid.Row columns={2}>\n                  <Grid.Column textAlign=\"left\">\n                    <ThemeSelection />\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"right\">\n                    <Button onClick={handleCentileSDS} color=\"black\">\n                      {centile ? \"Show SDS Chart\" : \"Show Centile Charts\"}\n                    </Button>\n                    <Button\n                      disabled={!globalState.isDataPresent}\n                      className=\"selectUpperMargin\"\n                      onClick={handleFlipResults}\n                    >\n                      {flip ? \"Chart\" : \"Results\"}\n                    </Button>\n                  </Grid.Column>\n                </Grid.Row>\n              </Grid>\n            </Segment>\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n\n      <ErrorModal\n        title={errorModal.title}\n        body={errorModal.body}\n        visible={errorModal.visible}\n        handleClose={errorModal.handleClose}\n        handleCancel={errorModal.handleCancel}\n      />\n    </React.Fragment>\n  );\n}\n\nconst panesBlueprint = [\n  {\n    menuItem: \"Height\",\n    measurementName: \"height\",\n    key: \"Height\",\n  },\n  {\n    menuItem: \"Weight\",\n    measurementName: \"weight\",\n    key: \"Weight\",\n  },\n  {\n    menuItem: \"BMI\",\n    measurementName: \"bmi\",\n    key: \"BMI\",\n  },\n  {\n    menuItem: \"Head Circumference\",\n    measurementName: \"ofc\",\n    key: \"Head Circumference\",\n  },\n];\n\nconst themeOptions = [\n  { key: \"monochrome\", value: \"monochrome\", text: \"Monochrome\" },\n  { key: \"trad\", value: \"trad\", text: \"Traditional\" },\n  { key: \"tanner1\", value: \"tanner1\", text: \"Tanner 1\" },\n  { key: \"tanner2\", value: \"tanner2\", text: \"Tanner 2\" },\n  { key: \"tanner3\", value: \"tanner3\", text: \"Tanner 3\" },\n];\n\nfunction InitalErrorModalState() {\n  return {\n    visible: false,\n    title: \"\",\n    body: \"\",\n    handleClose: null,\n    handleCancel: null,\n  };\n}\n\nexport default MeasurementSegment;\n","import React from 'react';\n\nimport MeasurementSegment from '../components/MeasurementSegment';\n\nfunction Home() {\n    return (\n        <div>\n            <MeasurementSegment />\n        </div>\n    );\n}\n\nexport default Home;\n","// React\nimport React from 'react';\nimport './App.css';\n\n// RCPCH Components\nimport './components/MeasurementForm';\nimport Home from './pages/Home';\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <Home />\n        </div>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === '[::1]' ||\n        // 127.0.0.0/8 are considered localhost for IPv4.\n        window.location.hostname.match(\n            /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n        )\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then((registration) => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                    'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch((error) => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n        headers: { 'Service-Worker': 'script' },\n    })\n        .then((response) => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (\n                response.status === 404 ||\n                (contentType != null &&\n                    contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then((registration) => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\n                'No internet connection found. App is running in offline mode.'\n            );\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready\n            .then((registration) => {\n                registration.unregister();\n            })\n            .catch((error) => {\n                console.error(error.message);\n            });\n    }\n}\n","// React\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n// Semantic UI React\nimport 'semantic-ui-less/semantic.less';\n\n// CSS\nimport './index.css';\n\nReactDOM.render(\n    // <React.StrictMode>\n    <App />,\n    // </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}